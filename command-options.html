<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Command options and setting tags &#8212; Phono3py v.1.11.7</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.3.6/cosmo/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.11.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="Phono3py v.1.11.7" href="index.html" />
    <link rel="next" title="Output files" href="output-files.html" />
    <link rel="prev" title="CRYSTAL &amp; phono3py calculation" href="crystal.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          Phono3py</a>
        <span class="navbar-text navbar-version pull-left"><b>1.11.7</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html#system-requirement">System requirement</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#multithreading-support">Multithreading support</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#install-using-pip-conda">Install using pip/conda</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#building-using-setup-py">Building using setup.py</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="interfaces.html">Interfaces to calculators (VASP, pwscf, CRYSTAL, Abinit)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="vasp.html">VASP &amp; phono3py calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="pwscf.html">Pwscf &amp; phono3py calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="crystal.html">CRYSTAL &amp; phono3py calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="interfaces.html#calculator-specific-behaviors">Calculator specific behaviors</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Command options and setting tags</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#calculator-interface">Calculator interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="#force-constants">Force constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reciprocal-space-sampling-mesh-and-grid-points">Reciprocal space sampling mesh and grid points</a></li>
<li class="toctree-l2"><a class="reference internal" href="#brillouin-zone-integration">Brillouin zone integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#physical-properties">Physical properties</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="output-files.html">Output files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="output-files.html#intermediate-text-files">Intermediate text files</a></li>
<li class="toctree-l2"><a class="reference internal" href="output-files.html#hdf5-files">HDF5 files</a></li>
<li class="toctree-l2"><a class="reference internal" href="output-files.html#simple-text-file">Simple text file</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hdf5_howto.html">How to read the results stored in hdf5 files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hdf5_howto.html#how-to-use-hdf5-python-library">How to use HDF5 python library</a></li>
<li class="toctree-l2"><a class="reference internal" href="hdf5_howto.html#details-of-kappa-hdf5-file">Details of <code class="docutils literal"><span class="pre">kappa-*.hdf5</span></code> file</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tips.html">Tips</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tips.html#brillouin-zone-summation">Brillouin zone summation</a></li>
<li class="toctree-l2"><a class="reference internal" href="tips.html#numerical-quality-of-force-constants">Numerical quality of force constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="tips.html#to-reduce-computational-demands">To reduce computational demands</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="auxiliary-tools.html">Auxiliary tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="auxiliary-tools.html#kaccum"><code class="docutils literal"><span class="pre">kaccum</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="auxiliary-tools.html#kdeplot"><code class="docutils literal"><span class="pre">kdeplot</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="citation.html">How to cite phono3py</a><ul>
<li class="toctree-l2"><a class="reference internal" href="citation.html#citation-of-phono3py">Citation of phono3py</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a><ul>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#feb-9-2017-version-1-11-9">Feb-9-2017: version 1.11.9</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#dec-14-2016-version-1-11-7">Dec-14-2016: version 1.11.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#nov-27-2016-version-1-11-5">Nov-27-2016: version 1.11.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#apr-24-2016-version-1-10-9">Apr-24-2016: version 1.10.9</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#apr-16-2016-version-1-10-7">Apr-16-2016: version 1.10.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#mar-15-2016-version-1-10-5">Mar-15-2016: version 1.10.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#oct-10-2015-version-0-9-14">Oct-10-2015: version 0.9.14</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#sep-26-2015-version-0-9-13">Sep-26-2015: version 0.9.13</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#aug-12-2015-version-0-9-12">Aug-12-2015: version 0.9.12</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#jun-18-2015-version-0-9-10-1">Jun-18-2015: version 0.9.10.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#jun-17-2015-version-0-9-10">Jun-17-2015: version 0.9.10</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-0-9-7">Changes in version 0.9.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-0-9-6">Changes in version 0.9.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-0-9-5">Changes in version 0.9.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-0-9-4">Changes in version 0.9.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-0-8-11">Changes in version 0.8.11</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-0-8-10">Changes in version 0.8.10</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-0-8-2">Changes in version 0.8.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-0-8-0">Changes in version 0.8.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-0-7-6">Changes in version 0.7.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-0-7-2">Changes in version 0.7.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-0-7-1">Changes in version 0.7.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-0-6-0">Changes in version 0.6.0</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Command options and setting tags</a><ul>
<li><a class="reference internal" href="#calculator-interface">Calculator interface</a><ul>
<li><a class="reference internal" href="#c-unit-cell-filename"><code class="docutils literal"><span class="pre">-c</span></code>: Unit cell filename</a></li>
<li><a class="reference internal" href="#pwscf-pwscf-quantum-espresso-interface"><code class="docutils literal"><span class="pre">--pwscf</span></code>: PWSCF (Quantum espresso) interface</a></li>
<li><a class="reference internal" href="#crystal-crystal-interface"><code class="docutils literal"><span class="pre">--crystal</span></code>: CRYSTAL interface</a></li>
</ul>
</li>
<li><a class="reference internal" href="#force-constants">Force constants</a><ul>
<li><a class="reference internal" href="#d-create-displacements"><code class="docutils literal"><span class="pre">-d</span></code>: Create displacements</a></li>
<li><a class="reference internal" href="#amplitude-amplitude-of-displacements"><code class="docutils literal"><span class="pre">--amplitude</span></code>: Amplitude of displacements</a></li>
<li><a class="reference internal" href="#dim-supercell-dimension"><code class="docutils literal"><span class="pre">--dim</span></code>: Supercell dimension</a></li>
<li><a class="reference internal" href="#dim-fc2-supercell-dimension-for-2nd-order-force-constants"><code class="docutils literal"><span class="pre">--dim_fc2</span></code>: Supercell dimension for 2nd order force constants</a></li>
<li><a class="reference internal" href="#pa-primitive-axis-transformation-matrix-to-primitive-cell"><code class="docutils literal"><span class="pre">--pa</span></code>, <code class="docutils literal"><span class="pre">--primitive_axis</span></code>: Transformation matrix to primitive cell</a></li>
<li><a class="reference internal" href="#fc2-read-2nd-order-force-constants"><code class="docutils literal"><span class="pre">--fc2</span></code>: Read 2nd order force constants</a></li>
<li><a class="reference internal" href="#fc3-read-3nd-order-force-constants"><code class="docutils literal"><span class="pre">--fc3</span></code>: Read 3nd order force constants</a></li>
<li><a class="reference internal" href="#sym-fc2-sym-fc3r-tsym-symmetries-force-constants"><code class="docutils literal"><span class="pre">--sym_fc2</span></code>, <code class="docutils literal"><span class="pre">--sym_fc3r</span></code>, <code class="docutils literal"><span class="pre">--tsym</span></code>: Symmetries force constants</a></li>
<li><a class="reference internal" href="#cf3-create-forces-fc3"><code class="docutils literal"><span class="pre">--cf3</span></code>: Create <code class="docutils literal"><span class="pre">FORCES_FC3</span></code></a></li>
<li><a class="reference internal" href="#cf2-create-forces-fc2"><code class="docutils literal"><span class="pre">--cf2</span></code>: Create <code class="docutils literal"><span class="pre">FORCES_FC2</span></code></a></li>
<li><a class="reference internal" href="#cutoff-fc3-or-cutoff-fc3-distance"><code class="docutils literal"><span class="pre">--cutoff_fc3</span></code> or <code class="docutils literal"><span class="pre">--cutoff_fc3_distance</span></code></a></li>
<li><a class="reference internal" href="#cutoff-pair-or-cutoff-pair-distance"><code class="docutils literal"><span class="pre">--cutoff_pair</span></code> or <code class="docutils literal"><span class="pre">--cutoff_pair_distance</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#reciprocal-space-sampling-mesh-and-grid-points">Reciprocal space sampling mesh and grid points</a><ul>
<li><a class="reference internal" href="#mesh-sampling-mesh"><code class="docutils literal"><span class="pre">--mesh</span></code>: Sampling mesh</a></li>
<li><a class="reference internal" href="#gp-grid-points-by-their-id"><code class="docutils literal"><span class="pre">--gp</span></code>: Grid points by their ID</a></li>
<li><a class="reference internal" href="#ga-grid-points-by-address-with-three-integer-values"><code class="docutils literal"><span class="pre">--ga</span></code>: Grid points by address with three integer values</a></li>
<li><a class="reference internal" href="#wgp-write-grid-point-information"><code class="docutils literal"><span class="pre">--wgp</span></code>: Write grid point information</a></li>
<li><a class="reference internal" href="#stp-show-number-of-triplets-to-be-calculated-for-each-grid-point"><code class="docutils literal"><span class="pre">--stp</span></code>: Show number of triplets to be calculated for each grid point</a></li>
</ul>
</li>
<li><a class="reference internal" href="#brillouin-zone-integration">Brillouin zone integration</a><ul>
<li><a class="reference internal" href="#thm-tetrahedron-method-default-choice"><code class="docutils literal"><span class="pre">--thm</span></code>: Tetrahedron method (default choice)</a></li>
<li><a class="reference internal" href="#sigma-smearing-method"><code class="docutils literal"><span class="pre">--sigma</span></code>: Smearing method</a></li>
</ul>
</li>
<li><a class="reference internal" href="#physical-properties">Physical properties</a><ul>
<li><a class="reference internal" href="#br-thermal-conductivity-with-relaxation-time-approximation"><code class="docutils literal"><span class="pre">--br</span></code>: Thermal conductivity with relaxation time approximation</a></li>
<li><a class="reference internal" href="#isotope-phonon-isotope-scattering"><code class="docutils literal"><span class="pre">--isotope</span></code>: Phonon-isotope scattering</a></li>
<li><a class="reference internal" href="#mass-variances-or-mv-parameter-for-phonon-isotope-scattering"><code class="docutils literal"><span class="pre">--mass_variances</span></code> or <code class="docutils literal"><span class="pre">--mv</span></code>: Parameter for phonon-isotope scattering</a></li>
<li><a class="reference internal" href="#boundary-mfp-bmfp-very-simple-phonon-boundary-scattering-model"><code class="docutils literal"><span class="pre">--boundary_mfp</span></code>, <code class="docutils literal"><span class="pre">--bmfp</span></code>: Very simple phonon-boundary scattering model</a></li>
<li><a class="reference internal" href="#tmax-tmin-tstep-ts-temperatures"><code class="docutils literal"><span class="pre">--tmax</span></code>, <code class="docutils literal"><span class="pre">--tmin</span></code>, <code class="docutils literal"><span class="pre">--tstep</span></code>, <code class="docutils literal"><span class="pre">--ts</span></code>: Temperatures</a></li>
<li><a class="reference internal" href="#nac-non-analytical-term-correction"><code class="docutils literal"><span class="pre">--nac</span></code>: Non-analytical term correction</a></li>
<li><a class="reference internal" href="#q-direction-direction-for-non-analytical-term-correction-at"><code class="docutils literal"><span class="pre">--q_direction</span></code>: Direction for non-analytical term correction at <img class="math" src="_images/math/bb40fb8b11b460413f57c8dff936dbf6a9530198.png" alt="\mathbf{q}\rightarrow \mathbf{0}"/></a></li>
<li><a class="reference internal" href="#write-gamma"><code class="docutils literal"><span class="pre">--write_gamma</span></code></a></li>
<li><a class="reference internal" href="#read-gamma"><code class="docutils literal"><span class="pre">--read_gamma</span></code></a></li>
<li><a class="reference internal" href="#write-gamma-detail"><code class="docutils literal"><span class="pre">--write_gamma_detail</span></code></a></li>
<li><a class="reference internal" href="#ise-imaginary-part-of-self-energy"><code class="docutils literal"><span class="pre">--ise</span></code>: Imaginary part of self energy</a></li>
<li><a class="reference internal" href="#lw-line-width"><code class="docutils literal"><span class="pre">--lw</span></code>: Line width</a></li>
<li><a class="reference internal" href="#jdos-joint-density-of-states"><code class="docutils literal"><span class="pre">--jdos</span></code>: Joint density of states</a></li>
<li><a class="reference internal" href="#num-freq-points-freq-pitch-sampling-frequency-for-distribution-functions"><code class="docutils literal"><span class="pre">--num_freq_points</span></code>, <code class="docutils literal"><span class="pre">--freq_pitch</span></code>: Sampling frequency for distribution functions</a></li>
<li><a class="reference internal" href="#bi-specific-band-index"><code class="docutils literal"><span class="pre">--bi</span></code>: Specific band index</a></li>
<li><a class="reference internal" href="#full-pp-calculate-all-elements-of-phonon-phonon-interaction-strength"><code class="docutils literal"><span class="pre">--full_pp</span></code>: Calculate all elements of phonon-phonon interaction strength</a></li>
<li><a class="reference internal" href="#ave-pp-use-averaged-phonon-phonon-interaction-strength"><code class="docutils literal"><span class="pre">--ave_pp</span></code>: Use averaged phonon-phonon interaction strength</a></li>
<li><a class="reference internal" href="#const-ave-pp-use-constant-phonon-phonon-interaction-strength"><code class="docutils literal"><span class="pre">--const_ave_pp</span></code>: Use constant phonon-phonon interaction strength</a></li>
<li><a class="reference internal" href="#gruneisen-mode-gruneisen-parameter-from-3rd-order-force-constants"><code class="docutils literal"><span class="pre">--gruneisen</span></code>: Mode-Gruneisen parameter from 3rd order force constants</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="crystal.html" title="Previous Chapter: CRYSTAL & phono3py calculation"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; CRYSTAL & pho...</span>
    </a>
  </li>
  <li>
    <a href="output-files.html" title="Next Chapter: Output files"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Output files &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="command-options-and-setting-tags">
<span id="command-options"></span><h1>Command options and setting tags<a class="headerlink" href="#command-options-and-setting-tags" title="Permalink to this headline">¶</a></h1>
<p>Command-user-interface of phono3py is operated with a variety of
command options. Here those command options are explained.</p>
<p>Using the latest phono3py and phonopy, a configuration file with
setting tags can be used instead of and together with the command
options. The setting tags are mostly equivalent to the most command
options, but when both are set simultaneously, the command options are
preferred. An example of configuration (e.g., saved in a file
<code class="docutils literal"><span class="pre">setting.conf</span></code>) is as follow:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">DIM</span> <span class="o">=</span> <span class="mi">2</span> <span class="mi">2</span> <span class="mi">2</span>
<span class="n">DIM_FC2</span> <span class="o">=</span> <span class="mi">4</span> <span class="mi">4</span> <span class="mi">4</span>
<span class="n">PRIMITIVE_AXIS</span> <span class="o">=</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">0</span>
<span class="n">MESH</span> <span class="o">=</span> <span class="mi">11</span> <span class="mi">11</span> <span class="mi">11</span>
<span class="n">BTERTA</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
<span class="n">NAC</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
<span class="n">READ_FC2</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
<span class="n">READ_FC3</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
<span class="n">CELL_FILENAME</span> <span class="o">=</span> <span class="n">POSCAR</span><span class="o">-</span><span class="n">unitcell</span>
</pre></div>
</div>
<p>where the setting tag names are case insensitive. This is run by</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phono3py</span> <span class="p">[</span><span class="n">comannd</span> <span class="n">options</span><span class="p">]</span> <span class="n">setting</span><span class="o">.</span><span class="n">conf</span>
</pre></div>
</div>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#calculator-interface" id="id1">Calculator interface</a><ul>
<li><a class="reference internal" href="#c-unit-cell-filename" id="id2"><code class="docutils literal"><span class="pre">-c</span></code>: Unit cell filename</a></li>
<li><a class="reference internal" href="#pwscf-pwscf-quantum-espresso-interface" id="id3"><code class="docutils literal"><span class="pre">--pwscf</span></code>: PWSCF (Quantum espresso) interface</a></li>
<li><a class="reference internal" href="#crystal-crystal-interface" id="id4"><code class="docutils literal"><span class="pre">--crystal</span></code>: CRYSTAL interface</a></li>
</ul>
</li>
<li><a class="reference internal" href="#force-constants" id="id5">Force constants</a><ul>
<li><a class="reference internal" href="#d-create-displacements" id="id6"><code class="docutils literal"><span class="pre">-d</span></code>: Create displacements</a></li>
<li><a class="reference internal" href="#amplitude-amplitude-of-displacements" id="id7"><code class="docutils literal"><span class="pre">--amplitude</span></code>: Amplitude of displacements</a></li>
<li><a class="reference internal" href="#dim-supercell-dimension" id="id8"><code class="docutils literal"><span class="pre">--dim</span></code>: Supercell dimension</a></li>
<li><a class="reference internal" href="#dim-fc2-supercell-dimension-for-2nd-order-force-constants" id="id9"><code class="docutils literal"><span class="pre">--dim_fc2</span></code>: Supercell dimension for 2nd order force constants</a></li>
<li><a class="reference internal" href="#pa-primitive-axis-transformation-matrix-to-primitive-cell" id="id10"><code class="docutils literal"><span class="pre">--pa</span></code>, <code class="docutils literal"><span class="pre">--primitive_axis</span></code>: Transformation matrix to primitive cell</a></li>
<li><a class="reference internal" href="#fc2-read-2nd-order-force-constants" id="id11"><code class="docutils literal"><span class="pre">--fc2</span></code>: Read 2nd order force constants</a></li>
<li><a class="reference internal" href="#fc3-read-3nd-order-force-constants" id="id12"><code class="docutils literal"><span class="pre">--fc3</span></code>: Read 3nd order force constants</a></li>
<li><a class="reference internal" href="#sym-fc2-sym-fc3r-tsym-symmetries-force-constants" id="id13"><code class="docutils literal"><span class="pre">--sym_fc2</span></code>, <code class="docutils literal"><span class="pre">--sym_fc3r</span></code>, <code class="docutils literal"><span class="pre">--tsym</span></code>: Symmetries force constants</a></li>
<li><a class="reference internal" href="#cf3-create-forces-fc3" id="id14"><code class="docutils literal"><span class="pre">--cf3</span></code>: Create <code class="docutils literal"><span class="pre">FORCES_FC3</span></code></a></li>
<li><a class="reference internal" href="#cf2-create-forces-fc2" id="id15"><code class="docutils literal"><span class="pre">--cf2</span></code>: Create <code class="docutils literal"><span class="pre">FORCES_FC2</span></code></a></li>
<li><a class="reference internal" href="#cutoff-fc3-or-cutoff-fc3-distance" id="id16"><code class="docutils literal"><span class="pre">--cutoff_fc3</span></code> or <code class="docutils literal"><span class="pre">--cutoff_fc3_distance</span></code></a></li>
<li><a class="reference internal" href="#cutoff-pair-or-cutoff-pair-distance" id="id17"><code class="docutils literal"><span class="pre">--cutoff_pair</span></code> or <code class="docutils literal"><span class="pre">--cutoff_pair_distance</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#reciprocal-space-sampling-mesh-and-grid-points" id="id18">Reciprocal space sampling mesh and grid points</a><ul>
<li><a class="reference internal" href="#mesh-sampling-mesh" id="id19"><code class="docutils literal"><span class="pre">--mesh</span></code>: Sampling mesh</a></li>
<li><a class="reference internal" href="#gp-grid-points-by-their-id" id="id20"><code class="docutils literal"><span class="pre">--gp</span></code>: Grid points by their ID</a></li>
<li><a class="reference internal" href="#ga-grid-points-by-address-with-three-integer-values" id="id21"><code class="docutils literal"><span class="pre">--ga</span></code>: Grid points by address with three integer values</a></li>
<li><a class="reference internal" href="#wgp-write-grid-point-information" id="id22"><code class="docutils literal"><span class="pre">--wgp</span></code>: Write grid point information</a></li>
<li><a class="reference internal" href="#stp-show-number-of-triplets-to-be-calculated-for-each-grid-point" id="id23"><code class="docutils literal"><span class="pre">--stp</span></code>: Show number of triplets to be calculated for each grid point</a></li>
</ul>
</li>
<li><a class="reference internal" href="#brillouin-zone-integration" id="id24">Brillouin zone integration</a><ul>
<li><a class="reference internal" href="#thm-tetrahedron-method-default-choice" id="id25"><code class="docutils literal"><span class="pre">--thm</span></code>: Tetrahedron method (default choice)</a></li>
<li><a class="reference internal" href="#sigma-smearing-method" id="id26"><code class="docutils literal"><span class="pre">--sigma</span></code>: Smearing method</a></li>
</ul>
</li>
<li><a class="reference internal" href="#physical-properties" id="id27">Physical properties</a><ul>
<li><a class="reference internal" href="#br-thermal-conductivity-with-relaxation-time-approximation" id="id28"><code class="docutils literal"><span class="pre">--br</span></code>: Thermal conductivity with relaxation time approximation</a></li>
<li><a class="reference internal" href="#isotope-phonon-isotope-scattering" id="id29"><code class="docutils literal"><span class="pre">--isotope</span></code>: Phonon-isotope scattering</a></li>
<li><a class="reference internal" href="#mass-variances-or-mv-parameter-for-phonon-isotope-scattering" id="id30"><code class="docutils literal"><span class="pre">--mass_variances</span></code> or <code class="docutils literal"><span class="pre">--mv</span></code>: Parameter for phonon-isotope scattering</a></li>
<li><a class="reference internal" href="#boundary-mfp-bmfp-very-simple-phonon-boundary-scattering-model" id="id31"><code class="docutils literal"><span class="pre">--boundary_mfp</span></code>, <code class="docutils literal"><span class="pre">--bmfp</span></code>: Very simple phonon-boundary scattering model</a></li>
<li><a class="reference internal" href="#tmax-tmin-tstep-ts-temperatures" id="id32"><code class="docutils literal"><span class="pre">--tmax</span></code>, <code class="docutils literal"><span class="pre">--tmin</span></code>, <code class="docutils literal"><span class="pre">--tstep</span></code>, <code class="docutils literal"><span class="pre">--ts</span></code>: Temperatures</a></li>
<li><a class="reference internal" href="#nac-non-analytical-term-correction" id="id33"><code class="docutils literal"><span class="pre">--nac</span></code>: Non-analytical term correction</a></li>
<li><a class="reference internal" href="#q-direction-direction-for-non-analytical-term-correction-at" id="id34"><code class="docutils literal"><span class="pre">--q_direction</span></code>: Direction for non-analytical term correction at <img class="math" src="_images/math/bb40fb8b11b460413f57c8dff936dbf6a9530198.png" alt="\mathbf{q}\rightarrow \mathbf{0}"/></a></li>
<li><a class="reference internal" href="#write-gamma" id="id35"><code class="docutils literal"><span class="pre">--write_gamma</span></code></a></li>
<li><a class="reference internal" href="#read-gamma" id="id36"><code class="docutils literal"><span class="pre">--read_gamma</span></code></a></li>
<li><a class="reference internal" href="#write-gamma-detail" id="id37"><code class="docutils literal"><span class="pre">--write_gamma_detail</span></code></a></li>
<li><a class="reference internal" href="#ise-imaginary-part-of-self-energy" id="id38"><code class="docutils literal"><span class="pre">--ise</span></code>: Imaginary part of self energy</a></li>
<li><a class="reference internal" href="#lw-line-width" id="id39"><code class="docutils literal"><span class="pre">--lw</span></code>: Line width</a></li>
<li><a class="reference internal" href="#jdos-joint-density-of-states" id="id40"><code class="docutils literal"><span class="pre">--jdos</span></code>: Joint density of states</a></li>
<li><a class="reference internal" href="#num-freq-points-freq-pitch-sampling-frequency-for-distribution-functions" id="id41"><code class="docutils literal"><span class="pre">--num_freq_points</span></code>, <code class="docutils literal"><span class="pre">--freq_pitch</span></code>: Sampling frequency for distribution functions</a></li>
<li><a class="reference internal" href="#bi-specific-band-index" id="id42"><code class="docutils literal"><span class="pre">--bi</span></code>: Specific band index</a></li>
<li><a class="reference internal" href="#full-pp-calculate-all-elements-of-phonon-phonon-interaction-strength" id="id43"><code class="docutils literal"><span class="pre">--full_pp</span></code>: Calculate all elements of phonon-phonon interaction strength</a></li>
<li><a class="reference internal" href="#ave-pp-use-averaged-phonon-phonon-interaction-strength" id="id44"><code class="docutils literal"><span class="pre">--ave_pp</span></code>: Use averaged phonon-phonon interaction strength</a></li>
<li><a class="reference internal" href="#const-ave-pp-use-constant-phonon-phonon-interaction-strength" id="id45"><code class="docutils literal"><span class="pre">--const_ave_pp</span></code>: Use constant phonon-phonon interaction strength</a></li>
<li><a class="reference internal" href="#gruneisen-mode-gruneisen-parameter-from-3rd-order-force-constants" id="id46"><code class="docutils literal"><span class="pre">--gruneisen</span></code>: Mode-Gruneisen parameter from 3rd order force constants</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="calculator-interface">
<h2><a class="toc-backref" href="#id1">Calculator interface</a><a class="headerlink" href="#calculator-interface" title="Permalink to this headline">¶</a></h2>
<div class="section" id="c-unit-cell-filename">
<h3><a class="toc-backref" href="#id2"><code class="docutils literal"><span class="pre">-c</span></code>: Unit cell filename</a><a class="headerlink" href="#c-unit-cell-filename" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">CELL_FILENAME</span></code>)</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phono3py</span> <span class="o">-</span><span class="n">c</span> <span class="n">POSCAR</span><span class="o">-</span><span class="n">unitcell</span> <span class="o">...</span> <span class="p">(</span><span class="n">many</span> <span class="n">options</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="pwscf-pwscf-quantum-espresso-interface">
<h3><a class="toc-backref" href="#id3"><code class="docutils literal"><span class="pre">--pwscf</span></code>: PWSCF (Quantum espresso) interface</a><a class="headerlink" href="#pwscf-pwscf-quantum-espresso-interface" title="Permalink to this headline">¶</a></h3>
<p>Using this option, PWSCF interface is invoked.
See the detail at <a class="reference internal" href="pwscf.html#pwscf-interface"><span class="std std-ref">Pwscf &amp; phono3py calculation</span></a>.</p>
</div>
<div class="section" id="crystal-crystal-interface">
<h3><a class="toc-backref" href="#id4"><code class="docutils literal"><span class="pre">--crystal</span></code>: CRYSTAL interface</a><a class="headerlink" href="#crystal-crystal-interface" title="Permalink to this headline">¶</a></h3>
<p>Using this option, CRYSTAL interface is invoked.
See the detail at <a class="reference internal" href="crystal.html#crystal-interface"><span class="std std-ref">CRYSTAL &amp; phono3py calculation</span></a>.</p>
</div>
</div>
<div class="section" id="force-constants">
<h2><a class="toc-backref" href="#id5">Force constants</a><a class="headerlink" href="#force-constants" title="Permalink to this headline">¶</a></h2>
<div class="section" id="d-create-displacements">
<span id="create-displacements-option"></span><h3><a class="toc-backref" href="#id6"><code class="docutils literal"><span class="pre">-d</span></code>: Create displacements</a><a class="headerlink" href="#d-create-displacements" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">CREATE_DISPLACEMENTS</span></code>)</p>
<p>Supercell with displacements are created. Using with <code class="docutils literal"><span class="pre">--amplitude</span></code>
option, atomic displacement distances are controlled. With this
option, files for supercells with displacements and <code class="docutils literal"><span class="pre">disp_fc3.yaml</span></code>
file are created.</p>
</div>
<div class="section" id="amplitude-amplitude-of-displacements">
<h3><a class="toc-backref" href="#id7"><code class="docutils literal"><span class="pre">--amplitude</span></code>: Amplitude of displacements</a><a class="headerlink" href="#amplitude-amplitude-of-displacements" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">DISPLACEMENT_DISTANCE</span></code>)</p>
<p>Displacement distance. The default value depends on calculator. See
<a class="reference internal" href="interfaces.html#default-displacement-distance-for-calculator"><span class="std std-ref">Default displacement distance created</span></a>.</p>
</div>
<div class="section" id="dim-supercell-dimension">
<h3><a class="toc-backref" href="#id8"><code class="docutils literal"><span class="pre">--dim</span></code>: Supercell dimension</a><a class="headerlink" href="#dim-supercell-dimension" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">DIM</span></code>)</p>
<p>Supercell size is specified. See the
detail at <a class="reference external" href="http://atztogo.github.io/phonopy/setting-tags.html#dim">http://atztogo.github.io/phonopy/setting-tags.html#dim</a> .</p>
</div>
<div class="section" id="dim-fc2-supercell-dimension-for-2nd-order-force-constants">
<span id="dim-fc2-option"></span><h3><a class="toc-backref" href="#id9"><code class="docutils literal"><span class="pre">--dim_fc2</span></code>: Supercell dimension for 2nd order force constants</a><a class="headerlink" href="#dim-fc2-supercell-dimension-for-2nd-order-force-constants" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">DIM_FC2</span></code>)</p>
<p>A larger and different supercell size for 2nd order force constants
than that for 3rd order force constants can be specified with this
option. Often interaction between a pair of atoms has longer range in
real space than interaction among three atoms. Therefore to reduce
computational demand, choosing larger supercell size only for 2nd
order force constants may be a good idea.</p>
<p>Using this option with <code class="docutils literal"><span class="pre">-d</span></code> option, the structure files
(e.g. <code class="docutils literal"><span class="pre">POSCAR_FC2-xxxxx</span></code> or equivalent files for the other
interfaces) and <code class="docutils literal"><span class="pre">disp_fc2.yaml</span></code> are created. These are used to
calculate 2nd order force constants for the larger supercell size and
these force calculations have to be done in addition to the usual
force calculations for 3rd order force constants.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">phono3py</span> <span class="o">-</span><span class="n">d</span> <span class="o">--</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> <span class="o">--</span><span class="n">dim_fc2</span><span class="o">=</span><span class="s2">&quot;4 4 4&quot;</span> <span class="o">-</span><span class="n">c</span> <span class="n">POSCAR</span><span class="o">-</span><span class="n">unitcell</span>
</pre></div>
</div>
<p>After the force calculations, <code class="docutils literal"><span class="pre">--cf2</span></code> option is used to create
<code class="docutils literal"><span class="pre">FORCES_FC2</span></code>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">phono3py</span> <span class="o">--</span><span class="n">cf2</span> <span class="n">disp</span><span class="o">-</span><span class="p">{</span><span class="mi">001</span><span class="p">,</span><span class="mi">002</span><span class="p">}</span><span class="o">/</span><span class="n">vasprun</span><span class="o">.</span><span class="n">xml</span>
</pre></div>
</div>
<p>To calculate 2nd order force constants for the larger supercell size,
<code class="docutils literal"><span class="pre">FORCES_FC2</span></code> and <code class="docutils literal"><span class="pre">disp_fc2.yaml</span></code> are necessary. Whenever running
phono3py for the larger 2nd order force constants, <code class="docutils literal"><span class="pre">--dim_fc2</span></code>
option has to be specified. <code class="docutils literal"><span class="pre">fc2.hdf5</span></code> created as a result of
running phono3py contains the 2nd order force constants with
larger supercell size. The filename is the same as that created in the
usual phono3py run without <code class="docutils literal"><span class="pre">--dim_fc2</span></code> option.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">phono3py</span> <span class="o">--</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> <span class="o">--</span><span class="n">dim_fc2</span><span class="o">=</span><span class="s2">&quot;4 4 4&quot;</span> <span class="o">-</span><span class="n">c</span> <span class="n">POSCAR</span><span class="o">-</span><span class="n">unitcell</span> <span class="o">...</span> <span class="p">(</span><span class="n">many</span> <span class="n">options</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="pa-primitive-axis-transformation-matrix-to-primitive-cell">
<span id="pa-option"></span><h3><a class="toc-backref" href="#id10"><code class="docutils literal"><span class="pre">--pa</span></code>, <code class="docutils literal"><span class="pre">--primitive_axis</span></code>: Transformation matrix to primitive cell</a><a class="headerlink" href="#pa-primitive-axis-transformation-matrix-to-primitive-cell" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">PRIMITIVE_AXIS</span></code>)</p>
<p>Transformation matrix from a non-primitive cell to the primitive
cell. See phonopy <code class="docutils literal"><span class="pre">PRIMITIVE_AXIS</span></code> tag (<code class="docutils literal"><span class="pre">--pa</span></code> option) at
<a class="reference external" href="http://atztogo.github.io/phonopy/setting-tags.html#primitive-axis">http://atztogo.github.io/phonopy/setting-tags.html#primitive-axis</a></p>
</div>
<div class="section" id="fc2-read-2nd-order-force-constants">
<h3><a class="toc-backref" href="#id11"><code class="docutils literal"><span class="pre">--fc2</span></code>: Read 2nd order force constants</a><a class="headerlink" href="#fc2-read-2nd-order-force-constants" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">READ_FC2</span></code>, <code class="docutils literal"><span class="pre">.TRUE.</span></code> or <code class="docutils literal"><span class="pre">.FALSE.</span></code>)</p>
<p>Read 2nd order force constants from <code class="docutils literal"><span class="pre">fc2.hdf5</span></code>.</p>
</div>
<div class="section" id="fc3-read-3nd-order-force-constants">
<h3><a class="toc-backref" href="#id12"><code class="docutils literal"><span class="pre">--fc3</span></code>: Read 3nd order force constants</a><a class="headerlink" href="#fc3-read-3nd-order-force-constants" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">READ_FC3</span></code>, <code class="docutils literal"><span class="pre">.TRUE.</span></code> or <code class="docutils literal"><span class="pre">.FALSE.</span></code>)</p>
<p>Read 3rd order force constants from <code class="docutils literal"><span class="pre">fc3.hdf5</span></code>.</p>
</div>
<div class="section" id="sym-fc2-sym-fc3r-tsym-symmetries-force-constants">
<h3><a class="toc-backref" href="#id13"><code class="docutils literal"><span class="pre">--sym_fc2</span></code>, <code class="docutils literal"><span class="pre">--sym_fc3r</span></code>, <code class="docutils literal"><span class="pre">--tsym</span></code>: Symmetries force constants</a><a class="headerlink" href="#sym-fc2-sym-fc3r-tsym-symmetries-force-constants" title="Permalink to this headline">¶</a></h3>
<p>(Setting tags: <code class="docutils literal"><span class="pre">SYMMETRIZE_FC2</span></code>, <code class="docutils literal"><span class="pre">.TRUE.</span></code> or <code class="docutils literal"><span class="pre">.FALSE.</span></code>)
(Setting tags: <code class="docutils literal"><span class="pre">SYMMETRIZE_FC3</span></code>, <code class="docutils literal"><span class="pre">.TRUE.</span></code> or <code class="docutils literal"><span class="pre">.FALSE.</span></code>)
(Setting tags: <code class="docutils literal"><span class="pre">TRANSLATION</span></code>, <code class="docutils literal"><span class="pre">.TRUE.</span></code> or <code class="docutils literal"><span class="pre">.FALSE.</span></code>)</p>
<p>These are used to symmetrize second- and third-order force
constants. <code class="docutils literal"><span class="pre">--sym_fc2</span></code> and <code class="docutils literal"><span class="pre">--sym_fc3r</span></code> symmetrize those in real
space by the index exchange, respectively, and <code class="docutils literal"><span class="pre">--tsym</span></code> symmetrizes
by the translational invariance, respectively.</p>
<p>When those force constants are not read from the hdf5 files,
symmetrized force constants in real space are written into those hdf5
files.</p>
</div>
<div class="section" id="cf3-create-forces-fc3">
<h3><a class="toc-backref" href="#id14"><code class="docutils literal"><span class="pre">--cf3</span></code>: Create <code class="docutils literal"><span class="pre">FORCES_FC3</span></code></a><a class="headerlink" href="#cf3-create-forces-fc3" title="Permalink to this headline">¶</a></h3>
<p>This is used to create <code class="docutils literal"><span class="pre">FORCES_FC3</span></code>. <code class="docutils literal"><span class="pre">disp_fc3.yaml</span></code> has to be
located at the current directory.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phono3py</span> <span class="o">--</span><span class="n">cf3</span> <span class="n">disp</span><span class="o">-</span><span class="p">{</span><span class="mf">00001.</span><span class="o">.</span><span class="mi">00755</span><span class="p">}</span><span class="o">/</span><span class="n">vasprun</span><span class="o">.</span><span class="n">xml</span>
</pre></div>
</div>
</div>
<div class="section" id="cf2-create-forces-fc2">
<span id="cf2-option"></span><h3><a class="toc-backref" href="#id15"><code class="docutils literal"><span class="pre">--cf2</span></code>: Create <code class="docutils literal"><span class="pre">FORCES_FC2</span></code></a><a class="headerlink" href="#cf2-create-forces-fc2" title="Permalink to this headline">¶</a></h3>
<p>This is used to create <code class="docutils literal"><span class="pre">FORCES_FC2</span></code>. <code class="docutils literal"><span class="pre">disp_fc2.yaml</span></code> has to be
located at the current directory. This is
optional. <code class="docutils literal"><span class="pre">FORCES_FC2</span></code> is necessary to run with <code class="docutils literal"><span class="pre">--dim_fc2</span></code>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phono3py</span> <span class="o">--</span><span class="n">cf2</span> <span class="n">disp_fc2</span><span class="o">-</span><span class="p">{</span><span class="mf">00001.</span><span class="o">.</span><span class="mi">00002</span><span class="p">}</span><span class="o">/</span><span class="n">vasprun</span><span class="o">.</span><span class="n">xml</span>
</pre></div>
</div>
</div>
<div class="section" id="cutoff-fc3-or-cutoff-fc3-distance">
<h3><a class="toc-backref" href="#id16"><code class="docutils literal"><span class="pre">--cutoff_fc3</span></code> or <code class="docutils literal"><span class="pre">--cutoff_fc3_distance</span></code></a><a class="headerlink" href="#cutoff-fc3-or-cutoff-fc3-distance" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">CUTOFF_FC3_DISTANCE</span></code>)</p>
<p>This option is <strong>not</strong> used to reduce number of supercells with
displacements, but this option is used to set zero in elements of
given third-order force constants. The zero elements are selected by
the condition that any pair-distance of atoms in each atom triplet is
larger than the specified cut-off distance.</p>
<p>If one wants to reduce number of supercells, the first choice is to
reduce the supercell size and the second choice is using
<code class="docutils literal"><span class="pre">--cutoff_pair</span></code> option.</p>
</div>
<div class="section" id="cutoff-pair-or-cutoff-pair-distance">
<h3><a class="toc-backref" href="#id17"><code class="docutils literal"><span class="pre">--cutoff_pair</span></code> or <code class="docutils literal"><span class="pre">--cutoff_pair_distance</span></code></a><a class="headerlink" href="#cutoff-pair-or-cutoff-pair-distance" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">CUTOFF_PAIR_DISTANCE</span></code>)</p>
<p>This option is only used together with <code class="docutils literal"><span class="pre">-d</span></code> option. Using this
option, number of supercells with displacements is reduced and a
special <code class="docutils literal"><span class="pre">disp_fc3.yaml</span></code> is created. This special <code class="docutils literal"><span class="pre">disp_fc3.yaml</span></code>
contains the information of the distance and which configurations of
pair-displacements are included or not included.</p>
<p>Cut-off pair distance is used to cut-off the number of configurations
of pair-displacements. <code class="docutils literal"><span class="pre">POSCAR-xxxxx</span></code> (in the other calculator
interface, the prefix of the filename is different) are not generated
if distance between a pair of atoms to be displaced is larger than the
specified cut-off pair distance. The indexing number (<code class="docutils literal"><span class="pre">xxxxx</span></code>)
corresponds to that of the case without setting this option, i.e., the
same <code class="docutils literal"><span class="pre">POSCAR-xxxxx</span></code> files are created for the same configurations of
pairs of displacements but <code class="docutils literal"><span class="pre">POSCAR-xxxxx</span></code> files not being included
are not generated. The reason of this indexing is that it can be
useful when changing the cutoff-pair-distance.</p>
<p>To create <code class="docutils literal"><span class="pre">FORCES_FC3</span></code>, only the respective output files containing
forces are necessary to be given to <code class="docutils literal"><span class="pre">phono3py</span></code> command as the
arguments.</p>
<p>An example is shown below using the Si example.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phono3py</span> <span class="o">--</span><span class="n">cutoff_pair</span><span class="o">=</span><span class="mi">5</span> <span class="o">-</span><span class="n">d</span> <span class="o">--</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> <span class="o">-</span><span class="n">c</span> <span class="n">POSCAR</span><span class="o">-</span><span class="n">unitcell</span>
        <span class="n">_</span>                      <span class="n">_____</span>
  <span class="n">_</span> <span class="n">__</span> <span class="o">|</span> <span class="o">|</span><span class="n">__</span>   <span class="n">___</span>  <span class="n">_</span> <span class="n">__</span>   <span class="n">___</span><span class="o">|</span><span class="n">___</span> <span class="o">/</span> <span class="n">_</span> <span class="n">__</span>  <span class="n">_</span>   <span class="n">_</span>
 <span class="o">|</span> <span class="s1">&#39;_ \| &#39;</span><span class="n">_</span> \ <span class="o">/</span> <span class="n">_</span> \<span class="o">|</span> <span class="s1">&#39;_ \ / _ \ |_ \| &#39;</span><span class="n">_</span> \<span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span>
 <span class="o">|</span> <span class="o">|</span><span class="n">_</span><span class="p">)</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="o">|</span><span class="n">__</span><span class="p">)</span> <span class="o">|</span> <span class="o">|</span><span class="n">_</span><span class="p">)</span> <span class="o">|</span> <span class="o">|</span><span class="n">_</span><span class="o">|</span> <span class="o">|</span>
 <span class="o">|</span> <span class="o">.</span><span class="n">__</span><span class="o">/|</span><span class="n">_</span><span class="o">|</span> <span class="o">|</span><span class="n">_</span><span class="o">|</span>\<span class="n">___</span><span class="o">/|</span><span class="n">_</span><span class="o">|</span> <span class="o">|</span><span class="n">_</span><span class="o">|</span>\<span class="n">___</span><span class="o">/</span><span class="n">____</span><span class="o">/|</span> <span class="o">.</span><span class="n">__</span><span class="o">/</span> \<span class="n">__</span><span class="p">,</span> <span class="o">|</span>
 <span class="o">|</span><span class="n">_</span><span class="o">|</span>                                <span class="o">|</span><span class="n">_</span><span class="o">|</span>    <span class="o">|</span><span class="n">___</span><span class="o">/</span>
                                          <span class="mf">1.11</span><span class="o">.</span><span class="mi">7</span>

<span class="n">Run</span> <span class="n">mode</span><span class="p">:</span> <span class="n">displacements</span>

<span class="n">Displacement</span> <span class="n">distance</span><span class="p">:</span> <span class="mf">0.03</span>
<span class="n">Number</span> <span class="n">of</span> <span class="n">displacements</span><span class="p">:</span> <span class="mi">111</span>
<span class="n">Cutoff</span> <span class="n">distance</span> <span class="k">for</span> <span class="n">displacements</span><span class="p">:</span> <span class="mf">5.0</span>
<span class="n">Number</span> <span class="n">of</span> <span class="n">displacement</span> <span class="n">supercell</span> <span class="n">files</span> <span class="n">created</span><span class="p">:</span> <span class="mi">51</span>
                 <span class="n">_</span>
   <span class="n">___</span> <span class="n">_</span> <span class="n">__</span>   <span class="n">__</span><span class="o">|</span> <span class="o">|</span>
  <span class="o">/</span> <span class="n">_</span> \ <span class="s1">&#39;_ \ / _` |</span>
 <span class="o">|</span>  <span class="n">__</span><span class="o">/</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="p">(</span><span class="n">_</span><span class="o">|</span> <span class="o">|</span>
  \<span class="n">___</span><span class="o">|</span><span class="n">_</span><span class="o">|</span> <span class="o">|</span><span class="n">_</span><span class="o">|</span>\<span class="n">__</span><span class="p">,</span><span class="n">_</span><span class="o">|</span>

<span class="o">%</span> <span class="n">ls</span> <span class="n">POSCAR</span><span class="o">-</span><span class="mi">0</span><span class="o">*</span>
<span class="n">POSCAR</span><span class="o">-</span><span class="mi">00001</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00032</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00043</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00080</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00097</span>
<span class="n">POSCAR</span><span class="o">-</span><span class="mi">00002</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00033</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00070</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00081</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00098</span>
<span class="n">POSCAR</span><span class="o">-</span><span class="mi">00003</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00034</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00071</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00082</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00099</span>
<span class="n">POSCAR</span><span class="o">-</span><span class="mi">00016</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00035</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00072</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00083</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00100</span>
<span class="n">POSCAR</span><span class="o">-</span><span class="mi">00017</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00036</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00073</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00084</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00101</span>
<span class="n">POSCAR</span><span class="o">-</span><span class="mi">00018</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00037</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00074</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00085</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00102</span>
<span class="n">POSCAR</span><span class="o">-</span><span class="mi">00019</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00038</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00075</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00086</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00103</span>
<span class="n">POSCAR</span><span class="o">-</span><span class="mi">00024</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00039</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00076</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00087</span>
<span class="n">POSCAR</span><span class="o">-</span><span class="mi">00025</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00040</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00077</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00088</span>
<span class="n">POSCAR</span><span class="o">-</span><span class="mi">00026</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00041</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00078</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00089</span>
<span class="n">POSCAR</span><span class="o">-</span><span class="mi">00027</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00042</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00079</span>  <span class="n">POSCAR</span><span class="o">-</span><span class="mi">00096</span>
</pre></div>
</div>
<p>For example, supporse forces are calculated using VASP in
<code class="docutils literal"><span class="pre">disp-xxxxx</span></code> directories, after running force calculations,
<code class="docutils literal"><span class="pre">FORCES_FC3</span></code> is created as follows:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phono3py</span> <span class="o">--</span><span class="n">cf3</span> <span class="n">disp</span><span class="o">-</span><span class="p">{</span><span class="mi">00001</span><span class="p">,</span><span class="mi">00002</span><span class="p">,</span><span class="mi">00003</span><span class="p">,</span><span class="mi">00016</span><span class="p">,</span><span class="mi">00017</span><span class="p">,</span><span class="mi">00018</span><span class="p">,</span><span class="mi">00019</span><span class="p">,</span><span class="mi">00024</span><span class="p">,</span><span class="mi">00025</span><span class="p">,</span><span class="mi">00026</span><span class="p">,</span><span class="mi">00027</span><span class="p">,</span><span class="mi">00032</span><span class="p">,</span><span class="mi">00033</span><span class="p">,</span><span class="mi">00034</span><span class="p">,</span><span class="mi">00035</span><span class="p">,</span><span class="mi">00036</span><span class="p">,</span><span class="mi">00037</span><span class="p">,</span><span class="mi">00038</span><span class="p">,</span><span class="mi">00039</span><span class="p">,</span><span class="mi">00040</span><span class="p">,</span><span class="mi">00041</span><span class="p">,</span><span class="mi">00042</span><span class="p">,</span><span class="mi">00043</span><span class="p">,</span><span class="mi">00070</span><span class="p">,</span><span class="mi">00071</span><span class="p">,</span><span class="mi">00072</span><span class="p">,</span><span class="mi">00073</span><span class="p">,</span><span class="mi">00074</span><span class="p">,</span><span class="mi">00075</span><span class="p">,</span><span class="mi">00076</span><span class="p">,</span><span class="mi">00077</span><span class="p">,</span><span class="mi">00078</span><span class="p">,</span><span class="mi">00079</span><span class="p">,</span><span class="mi">00080</span><span class="p">,</span><span class="mi">00081</span><span class="p">,</span><span class="mi">00082</span><span class="p">,</span><span class="mi">00083</span><span class="p">,</span><span class="mi">00084</span><span class="p">,</span><span class="mi">00085</span><span class="p">,</span><span class="mi">00086</span><span class="p">,</span><span class="mi">00087</span><span class="p">,</span><span class="mi">00088</span><span class="p">,</span><span class="mi">00089</span><span class="p">,</span><span class="mi">00096</span><span class="p">,</span><span class="mi">00097</span><span class="p">,</span><span class="mi">00098</span><span class="p">,</span><span class="mi">00099</span><span class="p">,</span><span class="mi">00100</span><span class="p">,</span><span class="mi">00101</span><span class="p">,</span><span class="mi">00102</span><span class="p">,</span><span class="mi">00103</span><span class="p">}</span><span class="o">/</span><span class="n">vasprun</span><span class="o">.</span><span class="n">xml</span>
        <span class="n">_</span>                      <span class="n">_____</span>
  <span class="n">_</span> <span class="n">__</span> <span class="o">|</span> <span class="o">|</span><span class="n">__</span>   <span class="n">___</span>  <span class="n">_</span> <span class="n">__</span>   <span class="n">___</span><span class="o">|</span><span class="n">___</span> <span class="o">/</span> <span class="n">_</span> <span class="n">__</span>  <span class="n">_</span>   <span class="n">_</span>
 <span class="o">|</span> <span class="s1">&#39;_ \| &#39;</span><span class="n">_</span> \ <span class="o">/</span> <span class="n">_</span> \<span class="o">|</span> <span class="s1">&#39;_ \ / _ \ |_ \| &#39;</span><span class="n">_</span> \<span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span>
 <span class="o">|</span> <span class="o">|</span><span class="n">_</span><span class="p">)</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="o">|</span><span class="n">__</span><span class="p">)</span> <span class="o">|</span> <span class="o">|</span><span class="n">_</span><span class="p">)</span> <span class="o">|</span> <span class="o">|</span><span class="n">_</span><span class="o">|</span> <span class="o">|</span>
 <span class="o">|</span> <span class="o">.</span><span class="n">__</span><span class="o">/|</span><span class="n">_</span><span class="o">|</span> <span class="o">|</span><span class="n">_</span><span class="o">|</span>\<span class="n">___</span><span class="o">/|</span><span class="n">_</span><span class="o">|</span> <span class="o">|</span><span class="n">_</span><span class="o">|</span>\<span class="n">___</span><span class="o">/</span><span class="n">____</span><span class="o">/|</span> <span class="o">.</span><span class="n">__</span><span class="o">/</span> \<span class="n">__</span><span class="p">,</span> <span class="o">|</span>
 <span class="o">|</span><span class="n">_</span><span class="o">|</span>                                <span class="o">|</span><span class="n">_</span><span class="o">|</span>    <span class="o">|</span><span class="n">___</span><span class="o">/</span>
                                          <span class="mf">1.11</span><span class="o">.</span><span class="mi">7</span>

<span class="n">Displacement</span> <span class="n">dataset</span> <span class="ow">is</span> <span class="n">read</span> <span class="kn">from</span> <span class="nn">disp_fc3.yaml.</span>
<span class="n">counter</span> <span class="p">(</span><span class="n">file</span> <span class="n">index</span><span class="p">):</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">10</span> <span class="mi">11</span> <span class="mi">12</span> <span class="mi">13</span> <span class="mi">14</span> <span class="mi">15</span> <span class="mi">16</span> <span class="mi">17</span> <span class="mi">18</span> <span class="mi">19</span> <span class="mi">20</span> <span class="mi">21</span> <span class="mi">22</span> <span class="mi">23</span> <span class="mi">24</span> <span class="mi">25</span> <span class="mi">26</span> <span class="mi">27</span> <span class="mi">28</span> <span class="mi">29</span> <span class="mi">30</span> <span class="mi">31</span> <span class="mi">32</span> <span class="mi">33</span> <span class="mi">34</span> <span class="mi">35</span> <span class="mi">36</span> <span class="mi">37</span> <span class="mi">38</span> <span class="mi">39</span> <span class="mi">40</span> <span class="mi">41</span> <span class="mi">42</span> <span class="mi">43</span> <span class="mi">44</span> <span class="mi">45</span> <span class="mi">46</span> <span class="mi">47</span> <span class="mi">48</span> <span class="mi">49</span> <span class="mi">50</span> <span class="mi">51</span>
<span class="n">FORCES_FC3</span> <span class="n">has</span> <span class="n">been</span> <span class="n">created</span><span class="o">.</span>
                 <span class="n">_</span>
   <span class="n">___</span> <span class="n">_</span> <span class="n">__</span>   <span class="n">__</span><span class="o">|</span> <span class="o">|</span>
  <span class="o">/</span> <span class="n">_</span> \ <span class="s1">&#39;_ \ / _` |</span>
 <span class="o">|</span>  <span class="n">__</span><span class="o">/</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="p">(</span><span class="n">_</span><span class="o">|</span> <span class="o">|</span>
  \<span class="n">___</span><span class="o">|</span><span class="n">_</span><span class="o">|</span> <span class="o">|</span><span class="n">_</span><span class="o">|</span>\<span class="n">__</span><span class="p">,</span><span class="n">_</span><span class="o">|</span>
</pre></div>
</div>
<p>Here one must mind that since the special <code class="docutils literal"><span class="pre">disp_fc3.yaml</span></code> is read in
creating <code class="docutils literal"><span class="pre">FORCES_FC3</span></code>, it has to be located on the current directory.</p>
<p>Although it depends on computer systems, to obtain the list of file
indices, a small shell one-liner may be used:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>% for i in `ls POSCAR-0*|sed s/POSCAR-//`;do echo -n $i,;done
00001,00002,00003,00016,00017,00018,00019,00024,00025,00026,00027,00032,00033,00034,00035,00036,00037,00038,00039,00040,00041,00042,00043,00070,00071,00072,00073,00074,00075,00076,00077,00078,00079,00080,00081,00082,00083,00084,00085,00086,00087,00088,00089,00096,00097,00098,00099,00100,00101,00102,00103,
</pre></div>
</div>
</div>
</div>
<div class="section" id="reciprocal-space-sampling-mesh-and-grid-points">
<h2><a class="toc-backref" href="#id18">Reciprocal space sampling mesh and grid points</a><a class="headerlink" href="#reciprocal-space-sampling-mesh-and-grid-points" title="Permalink to this headline">¶</a></h2>
<div class="section" id="mesh-sampling-mesh">
<h3><a class="toc-backref" href="#id19"><code class="docutils literal"><span class="pre">--mesh</span></code>: Sampling mesh</a><a class="headerlink" href="#mesh-sampling-mesh" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">MESH</span></code> or <code class="docutils literal"><span class="pre">MESH_NUMBERS</span></code>)</p>
<p>Phonon triples are chosen on the grid points on the sampling mesh
specified by this option. This mesh is made along reciprocal
axes and is always Gamma-centered.</p>
</div>
<div class="section" id="gp-grid-points-by-their-id">
<h3><a class="toc-backref" href="#id20"><code class="docutils literal"><span class="pre">--gp</span></code>: Grid points by their ID</a><a class="headerlink" href="#gp-grid-points-by-their-id" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">GRID_POINTS</span></code>)</p>
<p>Grid points where imaginary part of self energy is calculated. Indices
of grid points are specified by space separated numbers. The mapping
table between grid points to its indices is obtained by running with
<code class="docutils literal"><span class="pre">--loglevel=2</span></code> option.</p>
<p><code class="docutils literal"><span class="pre">--ga</span></code> option can be used instead of <code class="docutils literal"><span class="pre">--gp</span></code> option. See <code class="docutils literal"><span class="pre">--gp</span></code>
section.</p>
</div>
<div class="section" id="ga-grid-points-by-address-with-three-integer-values">
<h3><a class="toc-backref" href="#id21"><code class="docutils literal"><span class="pre">--ga</span></code>: Grid points by address with three integer values</a><a class="headerlink" href="#ga-grid-points-by-address-with-three-integer-values" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">GRID_ADDRESSES</span></code>)</p>
<p>This option is used to specify grid points like <code class="docutils literal"><span class="pre">--gp</span></code> option but in
the different way. For example with <code class="docutils literal"><span class="pre">--mesh=&quot;16</span> <span class="pre">16</span> <span class="pre">16&quot;</span></code>, a q-point
of (0.5, 0.5, 0.5) is given by <code class="docutils literal"><span class="pre">--ga=&quot;8</span> <span class="pre">8</span> <span class="pre">8&quot;</span></code>. The values have to be
integers. If you want to specify the point on a path, <code class="docutils literal"><span class="pre">--ga=&quot;0</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">1</span>
<span class="pre">1</span> <span class="pre">1</span> <span class="pre">2</span> <span class="pre">2</span> <span class="pre">2</span> <span class="pre">3</span> <span class="pre">3</span> <span class="pre">3</span> <span class="pre">...&quot;</span></code>, where each three values are recogninzed as a
grid point. The grid points given by <code class="docutils literal"><span class="pre">--ga</span></code> option are translated to
grid point indices as given by <code class="docutils literal"><span class="pre">--gp</span></code> option, and the values given
by <code class="docutils literal"><span class="pre">--ga</span></code> option will not be shown in log files.</p>
</div>
<div class="section" id="wgp-write-grid-point-information">
<h3><a class="toc-backref" href="#id22"><code class="docutils literal"><span class="pre">--wgp</span></code>: Write grid point information</a><a class="headerlink" href="#wgp-write-grid-point-information" title="Permalink to this headline">¶</a></h3>
<p>Irreducible grid point indices are written into
<code class="docutils literal"><span class="pre">ir_grid_points.yaml</span></code>. This information may be used when we want to
calculate imaginary part of self energy at each grid point in
conjunction with <code class="docutils literal"><span class="pre">--gp</span></code> option. <code class="docutils literal"><span class="pre">grid_address-mxxx.hdf5</span></code> is also
written. This file contains all the grid points and their grid
addresses in integers. Q-points corresponding to grid points are
calculated divided these integers by sampling mesh numbers for
respective reciprocal axes.</p>
</div>
<div class="section" id="stp-show-number-of-triplets-to-be-calculated-for-each-grid-point">
<h3><a class="toc-backref" href="#id23"><code class="docutils literal"><span class="pre">--stp</span></code>: Show number of triplets to be calculated for each grid point</a><a class="headerlink" href="#stp-show-number-of-triplets-to-be-calculated-for-each-grid-point" title="Permalink to this headline">¶</a></h3>
<p>Numbers of q-point triplets to be calculated for irreducible grid
points for specified sampling mesh numbers are shown. This can be used
to estimate how large a calculation is. Only those for specific grid
points are shown by using with <code class="docutils literal"><span class="pre">--gp</span></code> or <code class="docutils literal"><span class="pre">--ga</span></code> option.</p>
</div>
</div>
<div class="section" id="brillouin-zone-integration">
<h2><a class="toc-backref" href="#id24">Brillouin zone integration</a><a class="headerlink" href="#brillouin-zone-integration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="thm-tetrahedron-method-default-choice">
<h3><a class="toc-backref" href="#id25"><code class="docutils literal"><span class="pre">--thm</span></code>: Tetrahedron method (default choice)</a><a class="headerlink" href="#thm-tetrahedron-method-default-choice" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">TETRAHEDRON</span></code>, <code class="docutils literal"><span class="pre">.TRUE.</span></code> or <code class="docutils literal"><span class="pre">.FALSE.</span></code>)</p>
<p>Tetrahedron method is used for calculation of imaginary part of self
energy. This is the default option. Therefore it is not necessary to
specify this unless both results by tetrahedron method and
smearing method in one time execution are expected.</p>
</div>
<div class="section" id="sigma-smearing-method">
<h3><a class="toc-backref" href="#id26"><code class="docutils literal"><span class="pre">--sigma</span></code>: Smearing method</a><a class="headerlink" href="#sigma-smearing-method" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">SIGMA</span></code>)</p>
<p><img class="math" src="_images/math/2298cf1485084afe72757a9c8483af49a138d81f.png" alt="\sigma"/> value of Gaussian function for smearing when
calculating imaginary part of self energy. See the detail at
<a class="reference internal" href="tips.html#brillouinzone-sum"><span class="std std-ref">Brillouin zone summation</span></a>.</p>
<p>Multiple <img class="math" src="_images/math/2298cf1485084afe72757a9c8483af49a138d81f.png" alt="\sigma"/> values are also specified by space separated
numerical values. This is used when we want to test several
<img class="math" src="_images/math/2298cf1485084afe72757a9c8483af49a138d81f.png" alt="\sigma"/> values simultaneously.</p>
</div>
</div>
<div class="section" id="physical-properties">
<h2><a class="toc-backref" href="#id27">Physical properties</a><a class="headerlink" href="#physical-properties" title="Permalink to this headline">¶</a></h2>
<div class="section" id="br-thermal-conductivity-with-relaxation-time-approximation">
<h3><a class="toc-backref" href="#id28"><code class="docutils literal"><span class="pre">--br</span></code>: Thermal conductivity with relaxation time approximation</a><a class="headerlink" href="#br-thermal-conductivity-with-relaxation-time-approximation" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">BTERTA</span></code>, <code class="docutils literal"><span class="pre">.TRUE.</span></code> or <code class="docutils literal"><span class="pre">.FALSE.</span></code>)</p>
<p>Run calculation of lattice thermal conductivity tensor with the single
mode relaxation time approximation (RTA) and linearized phonon
Boltzmann equation. Without specifying <code class="docutils literal"><span class="pre">--gp</span></code> (or <code class="docutils literal"><span class="pre">--ga</span></code>) option,
all necessary phonon lifetime calculations for grid points are
sequentially executed and then thermal conductivity is calculated
under RTA. The thermal conductivity and many related properties are
written into <code class="docutils literal"><span class="pre">kappa-mxxx.hdf5</span></code>.</p>
<p>With <code class="docutils literal"><span class="pre">--gp</span></code> (or <code class="docutils literal"><span class="pre">--ga</span></code>) option,
phonon lifetimes on the specified grid points are calculated. To save
the results, <code class="docutils literal"><span class="pre">--write_gamma</span></code> option has to be specified and the
physical properties belonging to the grid
points are written into <code class="docutils literal"><span class="pre">kappa-mxxx-gx(-sx).hdf5</span></code>.</p>
</div>
<div class="section" id="isotope-phonon-isotope-scattering">
<h3><a class="toc-backref" href="#id29"><code class="docutils literal"><span class="pre">--isotope</span></code>: Phonon-isotope scattering</a><a class="headerlink" href="#isotope-phonon-isotope-scattering" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">ISOTOPE</span></code>, <code class="docutils literal"><span class="pre">.TRUE.</span></code> or <code class="docutils literal"><span class="pre">.FALSE.</span></code>)</p>
<p>Phonon-isotope scattering is calculated based on the formula by
Shin-ichiro Tamura, Phys. Rev. B, <strong>27</strong>, 858 (1983). Mass variance
parameters are read from database of the natural abundance data for
elements, which refers Laeter <em>et al.</em>, Pure Appl. Chem., <strong>75</strong>, 683
(2003).</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phono3py</span> <span class="o">--</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;3 3 2&quot;</span> <span class="o">-</span><span class="n">v</span> <span class="o">--</span><span class="n">mesh</span><span class="o">=</span><span class="s2">&quot;32 32 20&quot;</span> <span class="o">-</span><span class="n">c</span> <span class="n">POSCAR</span><span class="o">-</span><span class="n">unitcell</span> <span class="o">--</span><span class="n">br</span> <span class="o">--</span><span class="n">isotope</span>
</pre></div>
</div>
</div>
<div class="section" id="mass-variances-or-mv-parameter-for-phonon-isotope-scattering">
<h3><a class="toc-backref" href="#id30"><code class="docutils literal"><span class="pre">--mass_variances</span></code> or <code class="docutils literal"><span class="pre">--mv</span></code>: Parameter for phonon-isotope scattering</a><a class="headerlink" href="#mass-variances-or-mv-parameter-for-phonon-isotope-scattering" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">MASS_VARIANCES</span></code>)</p>
<p>This option is used to include isotope effect by reading specified
mass variance parameters. For example of GaN, this may be set like
<code class="docutils literal"><span class="pre">--mv=&quot;1.97e-4</span> <span class="pre">1.97e-4</span> <span class="pre">0</span> <span class="pre">0&quot;</span></code>. The number of elements has to
correspond to the number of atoms in the primitive cell.</p>
<p>Isotope effect to thermal conductivity may be checked first running
without isotope calculation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phono3py</span> <span class="o">--</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;3 3 2&quot;</span> <span class="o">-</span><span class="n">v</span> <span class="o">--</span><span class="n">mesh</span><span class="o">=</span><span class="s2">&quot;32 32 20&quot;</span> <span class="o">-</span><span class="n">c</span> <span class="n">POSCAR</span><span class="o">-</span><span class="n">unitcell</span> <span class="o">--</span><span class="n">br</span>
</pre></div>
</div>
<p>Then running with isotope calculation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phono3py</span> <span class="o">--</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;3 3 2&quot;</span> <span class="o">-</span><span class="n">v</span> <span class="o">--</span><span class="n">mesh</span><span class="o">=</span><span class="s2">&quot;32 32 20&quot;</span> <span class="o">-</span><span class="n">c</span> <span class="n">POSCAR</span><span class="o">-</span><span class="n">unitcell</span> <span class="o">--</span><span class="n">br</span> \
  <span class="o">--</span><span class="n">read_gamma</span> <span class="o">--</span><span class="n">mv</span><span class="o">=</span><span class="s2">&quot;1.97e-4 1.97e-4 0 0&quot;</span>
</pre></div>
</div>
<p>In the result hdf5 file, currently isotope scattering strength is not
written out, i.e., <code class="docutils literal"><span class="pre">gamma</span></code> is still imaginary part of self energy of
ph-ph scattering.</p>
</div>
<div class="section" id="boundary-mfp-bmfp-very-simple-phonon-boundary-scattering-model">
<h3><a class="toc-backref" href="#id31"><code class="docutils literal"><span class="pre">--boundary_mfp</span></code>, <code class="docutils literal"><span class="pre">--bmfp</span></code>: Very simple phonon-boundary scattering model</a><a class="headerlink" href="#boundary-mfp-bmfp-very-simple-phonon-boundary-scattering-model" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">BOUNDARY_MFP</span></code>)</p>
<p>A most simple boundary scattering treatment is
implemented. <img class="math" src="_images/math/084d982acb5e1f007c0cefd3294812e2dd5ccd1f.png" alt="v_g/L"/> is just used as the scattering rate, where
<img class="math" src="_images/math/96e44b53e19ef76c71778b8a801bccf1cb0ee50a.png" alt="v_g"/> is the group velocity and <img class="math" src="_images/math/0a5711c7a37994043b2bc3bb374adca232491762.png" alt="L"/> is the boundary mean
free path. The value is given in micrometre. The default value, 1
metre, is just used to avoid divergence of phonon lifetime and the
contribution to the thermal conducitivity is considered negligible.</p>
</div>
<div class="section" id="tmax-tmin-tstep-ts-temperatures">
<span id="cf3-option"></span><h3><a class="toc-backref" href="#id32"><code class="docutils literal"><span class="pre">--tmax</span></code>, <code class="docutils literal"><span class="pre">--tmin</span></code>, <code class="docutils literal"><span class="pre">--tstep</span></code>, <code class="docutils literal"><span class="pre">--ts</span></code>: Temperatures</a><a class="headerlink" href="#tmax-tmin-tstep-ts-temperatures" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">TMAX</span></code>, <code class="docutils literal"><span class="pre">TMIN</span></code>, <code class="docutils literal"><span class="pre">TSTEP</span></code>, <code class="docutils literal"><span class="pre">TEMPERATURES</span></code>)</p>
<p>Temperatures at equal interval are specified by <code class="docutils literal"><span class="pre">--tmax</span></code>,
<code class="docutils literal"><span class="pre">--tmin</span></code>, <code class="docutils literal"><span class="pre">--tstep</span></code>. See phonopy <code class="docutils literal"><span class="pre">TMAX</span></code>, <code class="docutils literal"><span class="pre">TMIN</span></code>, <code class="docutils literal"><span class="pre">TSTEP</span></code>
tags (<code class="docutils literal"><span class="pre">--tmax</span></code>, <code class="docutils literal"><span class="pre">--tmin</span></code>, <code class="docutils literal"><span class="pre">--tstep</span></code> options) at
<a class="reference external" href="http://atztogo.github.io/phonopy/setting-tags.html#tprop-tmin-tmax-tstep">http://atztogo.github.io/phonopy/setting-tags.html#tprop-tmin-tmax-tstep</a> .</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phono3py</span> <span class="o">--</span><span class="n">fc3</span> <span class="o">--</span><span class="n">fc2</span> <span class="o">--</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> <span class="o">-</span><span class="n">v</span> <span class="o">--</span><span class="n">mesh</span><span class="o">=</span><span class="s2">&quot;11 11 11&quot;</span> \
  <span class="o">-</span><span class="n">c</span> <span class="n">POSCAR</span><span class="o">-</span><span class="n">unitcell</span> <span class="o">--</span><span class="n">br</span> <span class="o">--</span><span class="n">tmin</span><span class="o">=</span><span class="mi">100</span> <span class="o">--</span><span class="n">tmax</span><span class="o">=</span><span class="mi">1000</span> <span class="o">--</span><span class="n">tstep</span><span class="o">=</span><span class="mi">50</span>
</pre></div>
</div>
<p>Specific temperatures are given by <code class="docutils literal"><span class="pre">--ts</span></code>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phono3py</span> <span class="o">--</span><span class="n">fc3</span> <span class="o">--</span><span class="n">fc2</span> <span class="o">--</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> <span class="o">-</span><span class="n">v</span> <span class="o">--</span><span class="n">mesh</span><span class="o">=</span><span class="s2">&quot;11 11 11&quot;</span> \
  <span class="o">-</span><span class="n">c</span> <span class="n">POSCAR</span><span class="o">-</span><span class="n">unitcell</span> <span class="o">--</span><span class="n">br</span> <span class="o">--</span><span class="n">ts</span><span class="o">=</span><span class="s2">&quot;200 300 400&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="nac-non-analytical-term-correction">
<h3><a class="toc-backref" href="#id33"><code class="docutils literal"><span class="pre">--nac</span></code>: Non-analytical term correction</a><a class="headerlink" href="#nac-non-analytical-term-correction" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">NAC</span></code>, <code class="docutils literal"><span class="pre">.TRUE.</span></code> or <code class="docutils literal"><span class="pre">.FALSE.</span></code>)</p>
<p>Non-analytical term correction for harmonic phonons. Like as phonopy,
<code class="docutils literal"><span class="pre">BORN</span></code> file has to be put on the same directory. Always the default
value of unit conversion factor is used even if it is written in the
first line of <code class="docutils literal"><span class="pre">BORN</span></code> file.</p>
</div>
<div class="section" id="q-direction-direction-for-non-analytical-term-correction-at">
<h3><a class="toc-backref" href="#id34"><code class="docutils literal"><span class="pre">--q_direction</span></code>: Direction for non-analytical term correction at <img class="math" src="_images/math/bb40fb8b11b460413f57c8dff936dbf6a9530198.png" alt="\mathbf{q}\rightarrow \mathbf{0}"/></a><a class="headerlink" href="#q-direction-direction-for-non-analytical-term-correction-at" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">Q_DIRECTION</span></code>)</p>
<p>This is used with <code class="docutils literal"><span class="pre">--nac</span></code> to specify the direction to polarize in
reciprocal space. See the detail at
<a class="reference external" href="http://atztogo.github.io/phonopy/setting-tags.html#q-direction">http://atztogo.github.io/phonopy/setting-tags.html#q-direction</a> .</p>
</div>
<div class="section" id="write-gamma">
<span id="write-gamma-option"></span><h3><a class="toc-backref" href="#id35"><code class="docutils literal"><span class="pre">--write_gamma</span></code></a><a class="headerlink" href="#write-gamma" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">WRITE_GAMMA</span></code>, <code class="docutils literal"><span class="pre">.TRUE.</span></code> or <code class="docutils literal"><span class="pre">.FALSE.</span></code>)</p>
<p>Imaginary parts of self energy at harmonic phonon frequencies
<img class="math" src="_images/math/b23263d441abbb6f16226a98bbd61fd6452396d5.png" alt="\Gamma_\lambda(\omega_\lambda)"/> are written
into file in hdf5 format.  The result is written into
<code class="docutils literal"><span class="pre">kappa-mxxx-dx-gx(-sx).hdf5</span></code> or <code class="docutils literal"><span class="pre">kappa-mxxx-dx-gx-bx(-sx).hdf5</span></code> with
<code class="docutils literal"><span class="pre">--bi</span></code> option. With <code class="docutils literal"><span class="pre">--sigma</span></code> option, <code class="docutils literal"><span class="pre">-sx</span></code> is inserted in front
of <code class="docutils literal"><span class="pre">.hdf5</span></code>.</p>
</div>
<div class="section" id="read-gamma">
<h3><a class="toc-backref" href="#id36"><code class="docutils literal"><span class="pre">--read_gamma</span></code></a><a class="headerlink" href="#read-gamma" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">READ_GAMMA</span></code>, <code class="docutils literal"><span class="pre">.TRUE.</span></code> or <code class="docutils literal"><span class="pre">.FALSE.</span></code>)</p>
<p>Imaginary parts of self energy at harmonic phonon frequencies
<img class="math" src="_images/math/b23263d441abbb6f16226a98bbd61fd6452396d5.png" alt="\Gamma_\lambda(\omega_\lambda)"/>
are read from <code class="docutils literal"><span class="pre">kappa</span></code> file in hdf5 format.  Initially the usual
result file of <code class="docutils literal"><span class="pre">kappa-mxxx-dx(-sx).hdf5</span></code> is searched. Unless it is
found, it tries to read <code class="docutils literal"><span class="pre">kappa</span></code> file for each grid point,
<code class="docutils literal"><span class="pre">kappa-mxxx-dx-gx(-sx).hdf5</span></code>. Then, similarly,
<code class="docutils literal"><span class="pre">kappa-mxxx-dx-gx(-sx).hdf5</span></code> not found,
<code class="docutils literal"><span class="pre">kappa-mxxx-dx-gx-bx(-sx).hdf5</span></code> files for band indices are searched.</p>
</div>
<div class="section" id="write-gamma-detail">
<span id="write-detailed-gamma-option"></span><h3><a class="toc-backref" href="#id37"><code class="docutils literal"><span class="pre">--write_gamma_detail</span></code></a><a class="headerlink" href="#write-gamma-detail" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">WRITE_GAMMA_DETAIL</span></code>, <code class="docutils literal"><span class="pre">.TRUE.</span></code> or <code class="docutils literal"><span class="pre">.FALSE.</span></code>)</p>
<p>Each q-point triplet contribution to imaginary part of self energy is
written into <code class="docutils literal"><span class="pre">gamma_detail-mxxx-gx(-sx).hdf5</span></code> file. Be careful that
this is large data.</p>
<p>In the output file in hdf5, following keys are used to extract the
detailed information.</p>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>gamma_detail for <code class="docutils literal"><span class="pre">--ise</span></code></td>
<td>(temperature, sampling frequency point, symmetry reduced set of triplets at a grid point, band1, band2, band3) in THz (without <img class="math" src="_images/math/9871bd64995368def3d10c85692a233e4cb5e3f9.png" alt="2\pi"/>)</td>
</tr>
<tr class="row-even"><td>gamma_detail for <code class="docutils literal"><span class="pre">--lw</span></code> and <code class="docutils literal"><span class="pre">--br</span></code></td>
<td>(temperature, symmetry reduced set of triplets at a grid point, band1, band2, band3) in THz (without <img class="math" src="_images/math/9871bd64995368def3d10c85692a233e4cb5e3f9.png" alt="2\pi"/>)</td>
</tr>
<tr class="row-odd"><td>mesh</td>
<td>Numbers of sampling mesh along reciprocal axes.</td>
</tr>
<tr class="row-even"><td>frequency_point for <code class="docutils literal"><span class="pre">--ise</span></code></td>
<td>Sampling frequency points in THz (without <img class="math" src="_images/math/9871bd64995368def3d10c85692a233e4cb5e3f9.png" alt="2\pi"/>), i.e., <img class="math" src="_images/math/c7415c6919c2eb17b1ea36f0243079b59825ee89.png" alt="\omega"/> in <img class="math" src="_images/math/2f666581625ef5ad4acda33a7fb3df2a835dfc9f.png" alt="\Gamma_\lambda(\omega)"/></td>
</tr>
<tr class="row-odd"><td>temperature</td>
<td>(temperature,), Temperatures in K</td>
</tr>
<tr class="row-even"><td>triplet</td>
<td>(symmetry reduced set of triplets at a grid point, 3), Triplets are given by the grid point indices (see below).</td>
</tr>
<tr class="row-odd"><td>weight</td>
<td>(symmetry reduced set of triplets at a grid point,), Weight of each triplet to imaginary part of self energy</td>
</tr>
</tbody>
</table>
<p>Q-points corresponding to grid point indices are calculated from
grid addresses and sampling mesh numbers given in
<code class="docutils literal"><span class="pre">grid_address-mxxx.hdf5</span></code> that is obtained by <code class="docutils literal"><span class="pre">--wgp</span></code> option. A
python script to obtain q-point triplets is shown below.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">h5py</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="s2">&quot;gamma_detail-mxxx-gx.hdf5&quot;</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="s2">&quot;grid_address-mxxx.hdf5&quot;</span><span class="p">)</span>
<span class="n">grid_address</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;grid_address&#39;</span><span class="p">][:]</span>
<span class="n">triplets</span> <span class="o">=</span> <span class="n">g</span><span class="p">[</span><span class="s1">&#39;triplet&#39;</span><span class="p">][:]</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;mesh&#39;</span><span class="p">][:]</span>
<span class="n">q</span> <span class="o">=</span> <span class="n">grid_address</span><span class="p">[</span><span class="n">triplets</span><span class="p">]</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;double&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Imaginary part of self energy or linewidth/2 is recovered by the
following script:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">h5py</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="s2">&quot;gamma_detail-mxxx-gx.hdf5&quot;</span><span class="p">)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="mi">30</span> <span class="c1"># index of temperature</span>
<span class="n">gamma_tp</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;gamma_detail&#39;</span><span class="p">][:]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">weight</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;weight&#39;</span><span class="p">][:]</span>
<span class="n">gamma</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">weight</span><span class="p">,</span> <span class="n">gamma_tp</span><span class="p">[</span><span class="n">temp</span><span class="p">])</span>
</pre></div>
</div>
<p>For example, for <code class="docutils literal"><span class="pre">--lw</span></code> or <code class="docutils literal"><span class="pre">--br</span></code>, this <code class="docutils literal"><span class="pre">gamma</span></code> gives
<img class="math" src="_images/math/b23263d441abbb6f16226a98bbd61fd6452396d5.png" alt="\Gamma_\lambda(\omega_\lambda)"/> of the band indices at the grid
point indicated by <img class="math" src="_images/math/1ab0134b6e0837594649c75a2ed83cfd85a2d03d.png" alt="\lambda"/> at the temperature of index 30. If
any bands are degenerated, those <code class="docutils literal"><span class="pre">gamma</span></code> in <code class="docutils literal"><span class="pre">kappa--mxxx-gx(-sx).hdf5</span></code>
or <code class="docutils literal"><span class="pre">gamma--mxxx-gx(-sx).hdf5</span></code> type file are averaged, but the <code class="docutils literal"><span class="pre">gamma</span></code>
obtained here in this way are not symmetrized. Apart from this
symmetrization, the values must be equivalent between them.</p>
</div>
<div class="section" id="ise-imaginary-part-of-self-energy">
<span id="ise-option"></span><h3><a class="toc-backref" href="#id38"><code class="docutils literal"><span class="pre">--ise</span></code>: Imaginary part of self energy</a><a class="headerlink" href="#ise-imaginary-part-of-self-energy" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">IMAG_SELF_ENERGY</span></code>, <code class="docutils literal"><span class="pre">.TRUE.</span></code> or <code class="docutils literal"><span class="pre">.FALSE.</span></code>)</p>
<p>Imaginary part of self energy <img class="math" src="_images/math/2f666581625ef5ad4acda33a7fb3df2a835dfc9f.png" alt="\Gamma_\lambda(\omega)"/> is
calculated with respect to <img class="math" src="_images/math/c7415c6919c2eb17b1ea36f0243079b59825ee89.png" alt="\omega"/>. The output is written to
<code class="docutils literal"><span class="pre">gammas-mxxxx-gx(-sx)-tx-bx.dat</span></code> in THz (without <img class="math" src="_images/math/9871bd64995368def3d10c85692a233e4cb5e3f9.png" alt="2\pi"/>) with
respect to frequency in THz (without <img class="math" src="_images/math/9871bd64995368def3d10c85692a233e4cb5e3f9.png" alt="2\pi"/>).</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phono3py</span> <span class="o">--</span><span class="n">fc3</span> <span class="o">--</span><span class="n">fc2</span> <span class="o">--</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;2 2  2&quot;</span> <span class="o">--</span><span class="n">mesh</span><span class="o">=</span><span class="s2">&quot;16 16 16&quot;</span> <span class="o">-</span><span class="n">c</span> <span class="n">POSCAR</span><span class="o">-</span><span class="n">unitcell</span> \
  <span class="o">--</span><span class="n">nac</span> <span class="o">--</span><span class="n">q_direction</span><span class="o">=</span><span class="s2">&quot;1 0 0&quot;</span> <span class="o">--</span><span class="n">gp</span><span class="o">=</span><span class="mi">0</span> <span class="o">--</span><span class="n">ise</span> <span class="o">--</span><span class="n">bi</span><span class="o">=</span><span class="s2">&quot;4 5, 6&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="lw-line-width">
<span id="lw-option"></span><h3><a class="toc-backref" href="#id39"><code class="docutils literal"><span class="pre">--lw</span></code>: Line width</a><a class="headerlink" href="#lw-line-width" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">LINEWIDTH</span></code>, <code class="docutils literal"><span class="pre">.TRUE.</span></code> or <code class="docutils literal"><span class="pre">.FALSE.</span></code>)</p>
<p>Linewidth <img class="math" src="_images/math/c982f465afd7871837bb1192f5c85251543f3b99.png" alt="2\Gamma_\lambda(\omega_\lambda)"/> is calculated with
respect to temperature. The output is written to
<code class="docutils literal"><span class="pre">linewidth-mxxxx-gx(-sx)-bx.dat</span></code> in THz (without <img class="math" src="_images/math/9871bd64995368def3d10c85692a233e4cb5e3f9.png" alt="2\pi"/>).</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phono3py</span> <span class="o">--</span><span class="n">fc3</span> <span class="o">--</span><span class="n">fc2</span> <span class="o">--</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;2 2  2&quot;</span> <span class="o">--</span><span class="n">mesh</span><span class="o">=</span><span class="s2">&quot;16 16 16&quot;</span> <span class="o">-</span><span class="n">c</span> <span class="n">POSCAR</span><span class="o">-</span><span class="n">unitcell</span> \
  <span class="o">--</span><span class="n">nac</span> <span class="o">--</span><span class="n">q_direction</span><span class="o">=</span><span class="s2">&quot;1 0 0&quot;</span> <span class="o">--</span><span class="n">gp</span><span class="o">=</span><span class="mi">0</span> <span class="o">--</span><span class="n">lw</span> <span class="o">--</span><span class="n">bi</span><span class="o">=</span><span class="s2">&quot;4 5, 6&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="jdos-joint-density-of-states">
<span id="jdos-option"></span><h3><a class="toc-backref" href="#id40"><code class="docutils literal"><span class="pre">--jdos</span></code>: Joint density of states</a><a class="headerlink" href="#jdos-joint-density-of-states" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">JOINT_DOS</span></code>, <code class="docutils literal"><span class="pre">.TRUE.</span></code> or <code class="docutils literal"><span class="pre">.FALSE.</span></code>)</p>
<p>Two classes of joint density of states (JDOS) are calculated. The
result is written into <code class="docutils literal"><span class="pre">jdos-mxxxxxx-gx(-sx).dat</span></code> in
<img class="math" src="_images/math/0c882144f3685899475f00611f43d7e4ab04af71.png" alt="\text{THz}^{-1}"/> (without <img class="math" src="_images/math/b8e6870fcd63e825d3c6edb3b0e8e88b21068897.png" alt="(2\pi)^{-1}"/>) with
respect to frequency in THz (without <img class="math" src="_images/math/9871bd64995368def3d10c85692a233e4cb5e3f9.png" alt="2\pi"/>). The first
column is the frequency, and the second and third columns are the
values given as follows, respectively,</p>
<div class="math">
<p><img src="_images/math/b5351bf39d3f2131a6ed77573410ca44f3574588.png" alt="&amp;D_2^{(1)}(\mathbf{q}, \omega) = \frac{1}{N}
\sum_{\lambda_1,\lambda_2}
\left[\delta(\omega+\omega_{\lambda_1}-\omega_{\lambda_2}) +
\delta(\omega-\omega_{\lambda_1}+\omega_{\lambda_2}) \right], \\
&amp;D_2^{(2)}(\mathbf{q}, \omega) = \frac{1}{N}
\sum_{\lambda_1,\lambda_2}\delta(\omega-\omega_{\lambda_1}
-\omega_{\lambda_2})."/></p>
</div><div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phono3py</span> <span class="o">--</span><span class="n">fc2</span> <span class="o">--</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> <span class="o">-</span><span class="n">c</span> <span class="n">POSCAR</span><span class="o">-</span><span class="n">unitcell</span> <span class="o">--</span><span class="n">mesh</span><span class="o">=</span><span class="s2">&quot;16 16 16&quot;</span> \
  <span class="o">--</span><span class="n">nac</span> <span class="o">--</span><span class="n">jdos</span> <span class="o">--</span><span class="n">ga</span><span class="o">=</span><span class="s2">&quot;0 0 0  8 8 8&quot;</span>
</pre></div>
</div>
<p>When temperatures are specified, two classes of weighted JDOS are
calculated. The result is written into
<code class="docutils literal"><span class="pre">jdos-mxxxxxx-gx(-sx)-txxx.dat</span></code> in <img class="math" src="_images/math/0c882144f3685899475f00611f43d7e4ab04af71.png" alt="\text{THz}^{-1}"/> (without
<img class="math" src="_images/math/b8e6870fcd63e825d3c6edb3b0e8e88b21068897.png" alt="(2\pi)^{-1}"/>) with respect to frequency in THz
(without <img class="math" src="_images/math/9871bd64995368def3d10c85692a233e4cb5e3f9.png" alt="2\pi"/>). In the file name, <code class="docutils literal"><span class="pre">txxx</span></code> shows the
temperature. The first column is the frequency, and the second and
third columns are the values given as follows, respectively,</p>
<div class="math">
<p><img src="_images/math/bea7dc5938d3ac2b3a7e2d2ff83626c1112f11ad.png" alt="&amp;N_2^{(1)}(\mathbf{q}, \omega) = \frac{1}{N}
\sum_{\lambda'\lambda''} \Delta(-\mathbf{q}+\mathbf{q}'+\mathbf{q}'')
(n_{\lambda'} - n_{\lambda''}) [ \delta( \omega + \omega_{\lambda'} -
\omega_{\lambda''}) - \delta( \omega - \omega_{\lambda'} +
\omega_{\lambda''})], \\
&amp;N_2^{(2)}(\mathbf{q}, \omega) = \frac{1}{N}
\sum_{\lambda'\lambda''} \Delta(-\mathbf{q}+\mathbf{q}'+\mathbf{q}'')
(n_{\lambda'}+ n_{\lambda''}+1) \delta( \omega - \omega_{\lambda'} -
\omega_{\lambda''})."/></p>
</div><div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phono3py</span> <span class="o">--</span><span class="n">fc2</span> <span class="o">--</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> <span class="o">-</span><span class="n">c</span> <span class="n">POSCAR</span><span class="o">-</span><span class="n">unitcell</span> <span class="o">--</span><span class="n">mesh</span><span class="o">=</span><span class="s2">&quot;16 16 16&quot;</span> \
  <span class="o">--</span><span class="n">nac</span> <span class="o">--</span><span class="n">jdos</span> <span class="o">--</span><span class="n">ga</span><span class="o">=</span><span class="s2">&quot;0 0 0  8 8 8&quot;</span> <span class="o">--</span><span class="n">ts</span><span class="o">=</span><span class="mi">300</span>
</pre></div>
</div>
</div>
<div class="section" id="num-freq-points-freq-pitch-sampling-frequency-for-distribution-functions">
<h3><a class="toc-backref" href="#id41"><code class="docutils literal"><span class="pre">--num_freq_points</span></code>, <code class="docutils literal"><span class="pre">--freq_pitch</span></code>: Sampling frequency for distribution functions</a><a class="headerlink" href="#num-freq-points-freq-pitch-sampling-frequency-for-distribution-functions" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">NUM_FREQUENCY_POINTS</span></code>)</p>
<p>For spectrum like calculations of imaginary part of self energy and
JDOS, number of sampling frequency points is controlled by
<code class="docutils literal"><span class="pre">--num_freq_points</span></code> or <code class="docutils literal"><span class="pre">--freq_pitch</span></code>.</p>
</div>
<div class="section" id="bi-specific-band-index">
<h3><a class="toc-backref" href="#id42"><code class="docutils literal"><span class="pre">--bi</span></code>: Specific band index</a><a class="headerlink" href="#bi-specific-band-index" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">BAND_INDICES</span></code>)</p>
<p>Specify band indices. The output file name will be, e.g.,
<code class="docutils literal"><span class="pre">gammas-mxxxxxx-gxx(-sx)-bx.dat</span></code> where <code class="docutils literal"><span class="pre">bxbx...</span></code> shows the band indices
used to be averaged. The calculated values at indices separated by
space are averaged, and those separated by comma are separately
calculated.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phono3py</span> <span class="o">--</span><span class="n">fc3</span> <span class="o">--</span><span class="n">fc2</span> <span class="o">--</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> <span class="o">--</span><span class="n">mesh</span><span class="o">=</span><span class="s2">&quot;16 16 16&quot;</span> \
  <span class="o">-</span><span class="n">c</span> <span class="n">POSCAR</span><span class="o">-</span><span class="n">unitcell</span> <span class="o">--</span><span class="n">nac</span> <span class="o">--</span><span class="n">gp</span><span class="o">=</span><span class="s2">&quot;34&quot;</span> <span class="o">--</span><span class="n">bi</span><span class="o">=</span><span class="s2">&quot;4 5, 6&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="full-pp-calculate-all-elements-of-phonon-phonon-interaction-strength">
<span id="full-pp-option"></span><h3><a class="toc-backref" href="#id43"><code class="docutils literal"><span class="pre">--full_pp</span></code>: Calculate all elements of phonon-phonon interaction strength</a><a class="headerlink" href="#full-pp-calculate-all-elements-of-phonon-phonon-interaction-strength" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">FULL_PP</span></code>, <code class="docutils literal"><span class="pre">.TRUE.</span></code> or <code class="docutils literal"><span class="pre">.FALSE.</span></code>)</p>
<p>After version 1.10.5, for RTA thermal conductivity calculation with
using the linear tetrahedron method, only necessary part of
phonon-phonon interaction strengh among phonons,
<img class="math" src="_images/math/defd5206e15655ccdb878d60d72bdb8d70e5b37e.png" alt="\bigl|\Phi_{-\lambda\lambda'\lambda''}\bigl|^2"/>, is
calculated due to delta functions in calculation of
<img class="math" src="_images/math/2f666581625ef5ad4acda33a7fb3df2a835dfc9f.png" alt="\Gamma_\lambda(\omega)"/>,</p>
<div class="math">
<p><img src="_images/math/e8b1dab6bd7705f5675ecaee7ae7bb518a3a3e46.png" alt="\Gamma_\lambda(\omega) = \frac{18\pi}{\hbar^2}
 \sum_{\lambda' \lambda''}
 \bigl|\Phi_{-\lambda\lambda'\lambda''}\bigl|^2
 \left\{(n_{\lambda'}+ n_{\lambda''}+1)
  \delta(\omega-\omega_{\lambda'}-\omega_{\lambda''}) \right.
  + (n_{\lambda'}-n_{\lambda''})
 \left[\delta(\omega+\omega_{\lambda'}-\omega_{\lambda''})
- \left. \delta(\omega-\omega_{\lambda'}+\omega_{\lambda''})
\right]\right\}."/></p>
</div><p>But specifying this option, full elements of phonon-phonon interaction
strengh among phonons are calculated and averaged phonon-phonon
interaction strength (<img class="math" src="_images/math/645ecc9514b0f10389a05592cede1f2f11478b4b.png" alt="P_{\mathbf{q}j}"/>) is also given.</p>
</div>
<div class="section" id="ave-pp-use-averaged-phonon-phonon-interaction-strength">
<h3><a class="toc-backref" href="#id44"><code class="docutils literal"><span class="pre">--ave_pp</span></code>: Use averaged phonon-phonon interaction strength</a><a class="headerlink" href="#ave-pp-use-averaged-phonon-phonon-interaction-strength" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">USE_AVE_PP</span></code>, <code class="docutils literal"><span class="pre">.TRUE.</span></code> or <code class="docutils literal"><span class="pre">.FALSE.</span></code>)</p>
<p>Averaged phonon-phonon interaction strength (<img class="math" src="_images/math/645ecc9514b0f10389a05592cede1f2f11478b4b.png" alt="P_{\mathbf{q}j}"/>)
is used to calculate imaginary part of self energy in thermal
conductivity calculation. This option works
only when <code class="docutils literal"><span class="pre">--read_gamma</span></code> and <code class="docutils literal"><span class="pre">--br</span></code> options are activated where
the averaged phonon-phonon interaction that is read from
<code class="docutils literal"><span class="pre">kappa-mxxxxx.hdf5</span></code> file is used if it exists in the file. Therefore the
averaged phonon-phonon interaction has to be stored before using this
option (see <a class="reference internal" href="#full-pp-option"><span class="std std-ref">&#8211;full_pp: Calculate all elements of phonon-phonon interaction strength</span></a>). The calculation result
<strong>overwrites</strong> <code class="docutils literal"><span class="pre">kappa-mxxxxx.hdf5</span></code> file. Therefore to use this
option together with <code class="docutils literal"><span class="pre">-o</span></code> option is strongly recommended.</p>
<p>First, run full conductivity calculation,</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phono3py</span> <span class="o">--</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;3 3 2&quot;</span> <span class="o">-</span><span class="n">v</span> <span class="o">--</span><span class="n">mesh</span><span class="o">=</span><span class="s2">&quot;32 32 20&quot;</span> <span class="o">-</span><span class="n">c</span> <span class="n">POSCAR</span><span class="o">-</span><span class="n">unitcell</span> <span class="o">--</span><span class="n">br</span>
</pre></div>
</div>
<p>Then</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phono3py</span> <span class="o">--</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;3 3 2&quot;</span> <span class="o">-</span><span class="n">v</span> <span class="o">--</span><span class="n">mesh</span><span class="o">=</span><span class="s2">&quot;32 32 20&quot;</span> <span class="o">-</span><span class="n">c</span> <span class="n">POSCAR</span><span class="o">-</span><span class="n">unitcell</span> <span class="o">--</span><span class="n">br</span> \
  <span class="o">--</span><span class="n">read_gamma</span> <span class="o">--</span><span class="n">ave_pp</span> <span class="o">-</span><span class="n">o</span> <span class="n">ave_pp</span>
</pre></div>
</div>
</div>
<div class="section" id="const-ave-pp-use-constant-phonon-phonon-interaction-strength">
<h3><a class="toc-backref" href="#id45"><code class="docutils literal"><span class="pre">--const_ave_pp</span></code>: Use constant phonon-phonon interaction strength</a><a class="headerlink" href="#const-ave-pp-use-constant-phonon-phonon-interaction-strength" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">CONSTANT_AVERAGED_PP_INTERACTION</span></code>, <code class="docutils literal"><span class="pre">.TRUE.</span></code> or <code class="docutils literal"><span class="pre">.FALSE.</span></code>)</p>
<p>Averaged phonon-phonon interaction (<img class="math" src="_images/math/645ecc9514b0f10389a05592cede1f2f11478b4b.png" alt="P_{\mathbf{q}j}"/>) is
replaced by this constant value in thermal conductivity
calculation. This option works only when <code class="docutils literal"><span class="pre">--br</span></code> options are
activated. Therefore third-order force constants are not necessary to
input. The physical unit of the value is <img class="math" src="_images/math/b1081ba55ca53aac658b057192e44ef64f27afa1.png" alt="\text{eV}^2"/>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phono3py</span> <span class="o">--</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;3 3 2&quot;</span> <span class="o">-</span><span class="n">v</span> <span class="o">--</span><span class="n">mesh</span><span class="o">=</span><span class="s2">&quot;32 32 20&quot;</span> <span class="o">-</span><span class="n">c</span> <span class="n">POSCAR</span><span class="o">-</span><span class="n">unitcell</span> <span class="o">--</span><span class="n">br</span> \
  <span class="o">--</span><span class="n">const_ave_pp</span><span class="o">=</span><span class="mi">1</span><span class="n">e</span><span class="o">-</span><span class="mi">10</span>
</pre></div>
</div>
</div>
<div class="section" id="gruneisen-mode-gruneisen-parameter-from-3rd-order-force-constants">
<h3><a class="toc-backref" href="#id46"><code class="docutils literal"><span class="pre">--gruneisen</span></code>: Mode-Gruneisen parameter from 3rd order force constants</a><a class="headerlink" href="#gruneisen-mode-gruneisen-parameter-from-3rd-order-force-constants" title="Permalink to this headline">¶</a></h3>
<p>(Setting tag: <code class="docutils literal"><span class="pre">GRUNEISEN</span></code>, <code class="docutils literal"><span class="pre">.TRUE.</span></code> or <code class="docutils literal"><span class="pre">.FALSE.</span></code>)</p>
<p>Mode-Gruneisen-parameters are calculated from fc3.</p>
<p>Mesh sampling mode:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phono3py</span> <span class="o">--</span><span class="n">fc3</span> <span class="o">--</span><span class="n">fc2</span> <span class="o">--</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> <span class="o">-</span><span class="n">v</span> <span class="o">--</span><span class="n">mesh</span><span class="o">=</span><span class="s2">&quot;16 16 16&quot;</span>
  <span class="o">-</span><span class="n">c</span> <span class="n">POSCAR</span><span class="o">-</span><span class="n">unitcell</span> <span class="o">--</span><span class="n">nac</span> <span class="o">--</span><span class="n">gruneisen</span>
</pre></div>
</div>
<p>Band path mode:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phono3py</span> <span class="o">--</span><span class="n">fc3</span> <span class="o">--</span><span class="n">fc2</span> <span class="o">--</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> <span class="o">-</span><span class="n">v</span> \
  <span class="o">-</span><span class="n">c</span> <span class="n">POSCAR</span><span class="o">-</span><span class="n">unitcell</span> <span class="o">--</span><span class="n">nac</span> <span class="o">--</span><span class="n">gruneisen</span> <span class="o">--</span><span class="n">band</span><span class="o">=</span><span class="s2">&quot;0 0 0  0 0 1/2&quot;</span>
</pre></div>
</div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/command-options.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2015, Atsushi Togo.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.9.<br/>
    </p>
  </div>
</footer>
  </body>
</html>