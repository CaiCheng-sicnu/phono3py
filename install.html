<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installation &#8212; Phono3py v.1.11.13</title>
    
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.11.13',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Examples" href="examples.html" />
    <link rel="prev" title="Welcome to phono3py" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          Phono3py</a>
        <span class="navbar-text navbar-version pull-left"><b>1.11.13</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation-using-conda">Installation using conda</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation-using-pip">Installation using pip</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation-from-source-code">Installation from source code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation-on-macos">Installation on macOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#an-example-of-installation-process">An example of installation process</a></li>
<li class="toctree-l2"><a class="reference internal" href="#trouble-shooting">Trouble shooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="interfaces.html">Interfaces to calculators (VASP, pwscf, CRYSTAL, Abinit)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="vasp.html">VASP &amp; phono3py calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="pwscf.html">Pwscf &amp; phono3py calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="crystal.html">CRYSTAL &amp; phono3py calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="interfaces.html#calculator-specific-behaviors">Calculator specific behaviors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="command-options.html">Command options / Setting tags</a><ul>
<li class="toctree-l2"><a class="reference internal" href="command-options.html#calculator-interface">Calculator interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="command-options.html#force-constants">Force constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="command-options.html#reciprocal-space-sampling-mesh-and-grid-points">Reciprocal space sampling mesh and grid points</a></li>
<li class="toctree-l2"><a class="reference internal" href="command-options.html#brillouin-zone-integration">Brillouin zone integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="command-options.html#physical-properties">Physical properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="command-options.html#input-and-output-file-names">Input and output file names</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="output-files.html">Output files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="output-files.html#intermediate-text-files">Intermediate text files</a></li>
<li class="toctree-l2"><a class="reference internal" href="output-files.html#hdf5-files">HDF5 files</a></li>
<li class="toctree-l2"><a class="reference internal" href="output-files.html#simple-text-file">Simple text file</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hdf5_howto.html">How to read the results stored in hdf5 files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hdf5_howto.html#how-to-use-hdf5-python-library">How to use HDF5 python library</a></li>
<li class="toctree-l2"><a class="reference internal" href="hdf5_howto.html#details-of-kappa-hdf5-file">Details of <code class="docutils literal"><span class="pre">kappa-*.hdf5</span></code> file</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="auxiliary-tools.html">Auxiliary tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="auxiliary-tools.html#kaccum"><code class="docutils literal"><span class="pre">kaccum</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="auxiliary-tools.html#kdeplot"><code class="docutils literal"><span class="pre">kdeplot</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="workload-distribution.html">Workload distribution</a><ul>
<li class="toctree-l2"><a class="reference internal" href="workload-distribution.html#how-to-do-it">How to do it</a></li>
<li class="toctree-l2"><a class="reference internal" href="workload-distribution.html#a-convenient-script">A convenient script</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cutoff-pair.html">Crude force constants calculation by cutoff pair-distance</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cutoff-pair.html#what-is-cutff-pair-distance-in-phono3py">What is cutff pair-distance in phono3py?</a></li>
<li class="toctree-l2"><a class="reference internal" href="cutoff-pair.html#usage">Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="cutoff-pair.html#the-test">The Test</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="external-tools.html">External tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="external-tools.html#kinetic-collective-model">Kinetic Collective Model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tips.html">Tips</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tips.html#brillouin-zone-summation">Brillouin zone summation</a></li>
<li class="toctree-l2"><a class="reference internal" href="tips.html#importance-of-numerical-quality-of-force-constants">Importance of numerical quality of force constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="tips.html#file-format-compatibility-with-phonopy">File format compatibility with phonopy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="citation.html">How to cite phono3py</a><ul>
<li class="toctree-l2"><a class="reference internal" href="citation.html#citation-of-phono3py">Citation of phono3py</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a><ul>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#jun-18-2017-version-1-11-13">Jun-18-2017: version 1.11.13</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#mar-31-2017-version-1-11-11">Mar-31-2017: version 1.11.11</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#feb-9-2017-version-1-11-9">Feb-9-2017: version 1.11.9</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#dec-14-2016-version-1-11-7">Dec-14-2016: version 1.11.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#nov-27-2016-version-1-11-5">Nov-27-2016: version 1.11.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#apr-24-2016-version-1-10-9">Apr-24-2016: version 1.10.9</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#apr-16-2016-version-1-10-7">Apr-16-2016: version 1.10.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#mar-15-2016-version-1-10-5">Mar-15-2016: version 1.10.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#oct-10-2015-version-0-9-14">Oct-10-2015: version 0.9.14</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#sep-26-2015-version-0-9-13">Sep-26-2015: version 0.9.13</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#aug-12-2015-version-0-9-12">Aug-12-2015: version 0.9.12</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#jun-18-2015-version-0-9-10-1">Jun-18-2015: version 0.9.10.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#jun-17-2015-version-0-9-10">Jun-17-2015: version 0.9.10</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-0-9-7">Changes in version 0.9.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-0-9-6">Changes in version 0.9.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-0-9-5">Changes in version 0.9.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-0-9-4">Changes in version 0.9.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-0-8-11">Changes in version 0.8.11</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-0-8-10">Changes in version 0.8.10</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-0-8-2">Changes in version 0.8.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-0-8-0">Changes in version 0.8.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-0-7-6">Changes in version 0.7.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-0-7-2">Changes in version 0.7.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-0-7-1">Changes in version 0.7.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#changes-in-version-0-6-0">Changes in version 0.6.0</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Installation</a><ul>
<li><a class="reference internal" href="#installation-using-conda">Installation using conda</a></li>
<li><a class="reference internal" href="#installation-using-pip">Installation using pip</a></li>
<li><a class="reference internal" href="#installation-from-source-code">Installation from source code</a><ul>
<li><a class="reference internal" href="#installation-of-lapacke">Installation of LAPACKE</a><ul>
<li><a class="reference internal" href="#netlib-lapacke-provided-by-ubuntu-package-manager-with-single-thread-blas">Netlib LAPACKE provided by Ubuntu package manager (with single-thread BLAS)</a></li>
<li><a class="reference internal" href="#compiling-netlib-lapacke">Compiling Netlib LAPACKE</a></li>
<li><a class="reference internal" href="#openblas-provided-by-macports-with-single-thread-blas">OpenBLAS provided by MacPorts (with single-thread BLAS)</a></li>
<li><a class="reference internal" href="#mkl-lapacke-with-multithread-blas">MKL LAPACKE (with multithread BLAS)</a></li>
<li><a class="reference internal" href="#openblas-provided-by-conda-with-multithread-blas">OpenBLAS provided by conda (with multithread BLAS)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#building-using-setup-py">Building using setup.py</a></li>
</ul>
</li>
<li><a class="reference internal" href="#installation-on-macos">Installation on macOS</a></li>
<li><a class="reference internal" href="#an-example-of-installation-process">An example of installation process</a></li>
<li><a class="reference internal" href="#trouble-shooting">Trouble shooting</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="index.html" title="Previous Chapter: Welcome to phono3py"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Welcome to phono3py</span>
    </a>
  </li>
  <li>
    <a href="examples.html" title="Next Chapter: Examples"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Examples &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="installation">
<span id="install"></span><h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#installation-using-conda" id="id1">Installation using conda</a></li>
<li><a class="reference internal" href="#installation-using-pip" id="id2">Installation using pip</a></li>
<li><a class="reference internal" href="#installation-from-source-code" id="id3">Installation from source code</a><ul>
<li><a class="reference internal" href="#installation-of-lapacke" id="id4">Installation of LAPACKE</a><ul>
<li><a class="reference internal" href="#netlib-lapacke-provided-by-ubuntu-package-manager-with-single-thread-blas" id="id5">Netlib LAPACKE provided by Ubuntu package manager (with single-thread BLAS)</a></li>
<li><a class="reference internal" href="#compiling-netlib-lapacke" id="id6">Compiling Netlib LAPACKE</a></li>
<li><a class="reference internal" href="#openblas-provided-by-macports-with-single-thread-blas" id="id7">OpenBLAS provided by MacPorts (with single-thread BLAS)</a></li>
<li><a class="reference internal" href="#mkl-lapacke-with-multithread-blas" id="id8">MKL LAPACKE (with multithread BLAS)</a></li>
<li><a class="reference internal" href="#openblas-provided-by-conda-with-multithread-blas" id="id9">OpenBLAS provided by conda (with multithread BLAS)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#building-using-setup-py" id="id10">Building using setup.py</a></li>
</ul>
</li>
<li><a class="reference internal" href="#installation-on-macos" id="id11">Installation on macOS</a></li>
<li><a class="reference internal" href="#an-example-of-installation-process" id="id12">An example of installation process</a></li>
<li><a class="reference internal" href="#trouble-shooting" id="id13">Trouble shooting</a></li>
</ul>
</div>
<p>Installation of phonopy before the installation of phono3py is
required. See how to install phonopy at
<a class="reference external" href="https://atztogo.github.io/phonopy/install.html">https://atztogo.github.io/phonopy/install.html</a>. Phono3py relies on
phonopy, so please use the latest release of phonopy when installing
phono3py.</p>
<div class="section" id="installation-using-conda">
<h2><a class="toc-backref" href="#id1">Installation using conda</a><a class="headerlink" href="#installation-using-conda" title="Permalink to this headline">¶</a></h2>
<p>Using conda is the easiest way for installation of phono3py if you are
using usual 64 bit linux system. The conda packages for 64bit linux
are also found at <code class="docutils literal"><span class="pre">atztogo</span></code> channel:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">c</span> <span class="n">atztogo</span> <span class="n">phono3py</span>
</pre></div>
</div>
<p>All dependent packages are installed simultaneously.</p>
</div>
<div class="section" id="installation-using-pip">
<h2><a class="toc-backref" href="#id2">Installation using pip</a><a class="headerlink" href="#installation-using-pip" title="Permalink to this headline">¶</a></h2>
<p>PyPI packages are prepared for phonopy and phono3py releases. When
installing with PyPI, <code class="docutils literal"><span class="pre">setup.py</span></code> is executed locally to compile the
part of the code written in C, so a few libraries such as
lapacke must exist in the system. Those necessary libraries are
explained in the next section.</p>
</div>
<div class="section" id="installation-from-source-code">
<h2><a class="toc-backref" href="#id3">Installation from source code</a><a class="headerlink" href="#installation-from-source-code" title="Permalink to this headline">¶</a></h2>
<p>When installing phono3py using <code class="docutils literal"><span class="pre">setup.py</span></code> from the source code, a
few libraries are required before running <code class="docutils literal"><span class="pre">setup.py</span></code> script.</p>
<p>For phono3py, OpenMP library is necessary for the multithreding
support. In additon, BLAS, LAPACK, and LAPACKE are also needed. These
packages are probably installed using the package manager for each OS
or conda.</p>
<p>When using gcc to compile phono3py, <code class="docutils literal"><span class="pre">libgomp1</span></code> is necessary to
enable OpenMP multithreading support. This library is probably
installed already in your system. If you don’t have it and you use
Ubuntu linux, it is installed by:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">libgomp1</span>
</pre></div>
</div>
<div class="section" id="installation-of-lapacke">
<h3><a class="toc-backref" href="#id4">Installation of LAPACKE</a><a class="headerlink" href="#installation-of-lapacke" title="Permalink to this headline">¶</a></h3>
<p>LAPACK library is used in a few parts of the code to diagonalize
matrices. LAPACK*E* is the C-wrapper of LAPACK and LAPACK relies on
BLAS. Both single-thread or multithread BLAS can be
used in phono3py. In the following, multiple different ways of
installation of LAPACKE are explained.</p>
<div class="section" id="netlib-lapacke-provided-by-ubuntu-package-manager-with-single-thread-blas">
<h4><a class="toc-backref" href="#id5">Netlib LAPACKE provided by Ubuntu package manager (with single-thread BLAS)</a><a class="headerlink" href="#netlib-lapacke-provided-by-ubuntu-package-manager-with-single-thread-blas" title="Permalink to this headline">¶</a></h4>
<p>In the versions of Ubuntu-12.10 or later, LAPACKE
(<a class="reference external" href="http://www.netlib.org/lapack/lapacke.html">http://www.netlib.org/lapack/lapacke.html</a>) can be installed from the
package manager (<code class="docutils literal"><span class="pre">liblapacke</span></code> and <code class="docutils literal"><span class="pre">liblapacke-dev</span></code>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">liblapack</span><span class="o">-</span><span class="n">dev</span> <span class="n">liblapacke</span><span class="o">-</span><span class="n">dev</span>
</pre></div>
</div>
</div>
<div class="section" id="compiling-netlib-lapacke">
<h4><a class="toc-backref" href="#id6">Compiling Netlib LAPACKE</a><a class="headerlink" href="#compiling-netlib-lapacke" title="Permalink to this headline">¶</a></h4>
<p>The compilation procedure is found at the LAPACKE web site. After
creating the LAPACKE library, <code class="docutils literal"><span class="pre">liblapacke.a</span></code> (or the dynamic link
library), <code class="docutils literal"><span class="pre">setup.py</span></code> must be properly modified to link it. As an
example, the procedure of compiling LAPACKE is shown below.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">tar</span> <span class="n">xvfz</span> <span class="n">lapack</span><span class="o">-</span><span class="mf">3.6</span><span class="o">.</span><span class="mf">0.</span><span class="n">tgz</span>
<span class="o">%</span> <span class="n">cd</span> <span class="n">lapack</span><span class="o">-</span><span class="mf">3.6</span><span class="o">.</span><span class="mi">0</span>
<span class="o">%</span> <span class="n">cp</span> <span class="n">make</span><span class="o">.</span><span class="n">inc</span><span class="o">.</span><span class="n">example</span> <span class="n">make</span><span class="o">.</span><span class="n">inc</span>
<span class="o">%</span> <span class="n">make</span> <span class="n">lapackelib</span>
</pre></div>
</div>
<p>BLAS, LAPACK, and LAPACKE, these all may have to be compiled
with -fPIC option to use it with python.</p>
</div>
<div class="section" id="openblas-provided-by-macports-with-single-thread-blas">
<h4><a class="toc-backref" href="#id7">OpenBLAS provided by MacPorts (with single-thread BLAS)</a><a class="headerlink" href="#openblas-provided-by-macports-with-single-thread-blas" title="Permalink to this headline">¶</a></h4>
<p>MacPorts, the <code class="docutils literal"><span class="pre">OpenBLAS</span></code> package contains not only BLAS but also
LAPACK and LAPACKE in <code class="docutils literal"><span class="pre">libopenblas</span></code>.</p>
</div>
<div class="section" id="mkl-lapacke-with-multithread-blas">
<h4><a class="toc-backref" href="#id8">MKL LAPACKE (with multithread BLAS)</a><a class="headerlink" href="#mkl-lapacke-with-multithread-blas" title="Permalink to this headline">¶</a></h4>
<p>MKL LAPACKE can be used. For this, <code class="docutils literal"><span class="pre">mkl.py</span></code> file has to be
created. In this file, the locations of necessary MKL libraries are
provided such as follows:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">extra_link_args_lapacke</span> <span class="o">+=</span> <span class="p">[</span><span class="s1">&#39;-L/opt/intel/mkl/lib/intel64&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;-lmkl_intel_ilp64&#39;</span><span class="p">,</span> <span class="s1">&#39;-lmkl_intel_thread&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;-lmkl_core&#39;</span><span class="p">]</span>
<span class="n">library_dirs_lapacke</span> <span class="o">+=</span> <span class="p">[]</span>
<span class="n">include_dirs_lapacke</span> <span class="o">+=</span> <span class="p">[</span><span class="s1">&#39;/opt/intel/mkl/include&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="openblas-provided-by-conda-with-multithread-blas">
<h4><a class="toc-backref" href="#id9">OpenBLAS provided by conda (with multithread BLAS)</a><a class="headerlink" href="#openblas-provided-by-conda-with-multithread-blas" title="Permalink to this headline">¶</a></h4>
<p>The installtion of LAPACKE is easy by conda. It is:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">conda</span> <span class="n">install</span> <span class="n">openblas</span>
</pre></div>
</div>
<p>or if the python libraries are not yet installed:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">conda</span> <span class="n">install</span> <span class="n">openblas</span> <span class="n">numpy</span> <span class="n">scipy</span> <span class="n">h5py</span> <span class="n">pyyaml</span> <span class="n">matplotlib</span>
</pre></div>
</div>
<p>This openblas package contains BLAS, LAPACK, and LAPACKE.</p>
</div>
</div>
<div class="section" id="building-using-setup-py">
<h3><a class="toc-backref" href="#id10">Building using setup.py</a><a class="headerlink" href="#building-using-setup-py" title="Permalink to this headline">¶</a></h3>
<p>If package installation is not possible or you want to compile with
special compiler or special options, phono3py is built using
setup.py. In this case, manual modification of <code class="docutils literal"><span class="pre">setup.py</span></code> may be
needed.</p>
<ol class="arabic">
<li><p class="first">Download the latest source code at</p>
<p><a class="reference external" href="https://pypi.python.org/pypi/phono3py">https://pypi.python.org/pypi/phono3py</a></p>
</li>
<li><p class="first">and extract it:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">tar</span> <span class="n">xvfz</span> <span class="n">phono3py</span><span class="o">-</span><span class="mf">1.11</span><span class="o">.</span><span class="mf">13.39</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
<span class="o">%</span> <span class="n">cd</span> <span class="n">phono3py</span><span class="o">-</span><span class="mf">1.11</span><span class="o">.</span><span class="mf">13.39</span>
</pre></div>
</div>
<p>The other option is using git to clone the phonopy repository from github:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">atztogo</span><span class="o">/</span><span class="n">phono3py</span><span class="o">.</span><span class="n">git</span>
<span class="o">%</span> <span class="n">cd</span> <span class="n">phono3py</span>
</pre></div>
</div>
</li>
</ol>
<ol class="arabic" start="2">
<li><p class="first">Set up C-libraries for python C-API and python codes. This can be
done as follows:</p>
<p>Run <code class="docutils literal"><span class="pre">setup.py</span></code> script:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span> <span class="o">--</span><span class="n">user</span>
</pre></div>
</div>
</li>
<li><p class="first">Set <span class="target" id="index-0"></span><code class="xref std std-envvar docutils literal"><span class="pre">$PATH</span></code> and <span class="target" id="index-1"></span><code class="xref std std-envvar docutils literal"><span class="pre">$PYTHONPATH</span></code></p>
<p><code class="docutils literal"><span class="pre">PATH</span></code> and <code class="docutils literal"><span class="pre">PYTHONPATH</span></code> are set in the same way as phonopy, see
<a class="reference external" href="https://atztogo.github.io/phonopy/install.html#building-using-setup-py">https://atztogo.github.io/phonopy/install.html#building-using-setup-py</a>.</p>
</li>
</ol>
</div>
</div>
<div class="section" id="installation-on-macos">
<h2><a class="toc-backref" href="#id11">Installation on macOS</a><a class="headerlink" href="#installation-on-macos" title="Permalink to this headline">¶</a></h2>
<p>macOS users may be able to install phonopy and phono3py on recent
macOS. But it requires a basic knowledge on UNIX and python. So if
you are afraid of that, please prepare a computer or a virtual machine
with a normal linux OS such as Ubuntu-linux-64bit 14.04 or 16.04.</p>
<p>If you think you are familiar with macOS, unix system, and python,
the recommended installation process is written at
<a class="reference external" href="https://atztogo.github.io/phonopy/MacOSX.html">https://atztogo.github.io/phonopy/MacOSX.html</a>, which is more-or-less
the same as phonopy, but with openblas, too. An example of the
procedure is summarized in the next section.</p>
</div>
<div class="section" id="an-example-of-installation-process">
<h2><a class="toc-backref" href="#id12">An example of installation process</a><a class="headerlink" href="#an-example-of-installation-process" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Download miniconda package</p>
<p>Miniconda is downloaded at <a class="reference external" href="https://conda.io/miniconda.html">https://conda.io/miniconda.html</a>.</p>
<p>For usual 64-bit Linux system:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">repo</span><span class="o">.</span><span class="n">continuum</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">miniconda</span><span class="o">/</span><span class="n">Miniconda3</span><span class="o">-</span><span class="n">latest</span><span class="o">-</span><span class="n">Linux</span><span class="o">-</span><span class="n">x86_64</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>For macOS, it is assumed that gcc compiler is installed on your system. The
compiler such as default clang on macOS can’t handle OpenMP, so it
can’t be used. The gcc compiler may be installed using MacPort, e.g.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">gcc7</span> <span class="n">wget</span>
</pre></div>
</div>
<p>where wget is optional. Then download using wget:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">repo</span><span class="o">.</span><span class="n">continuum</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">miniconda</span><span class="o">/</span><span class="n">Miniconda3</span><span class="o">-</span><span class="n">latest</span><span class="o">-</span><span class="n">MacOSX</span><span class="o">-</span><span class="n">x86_64</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</li>
<li><p class="first">Install conda packages</p>
<p>It is supposed to have the following environment variable:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>export PATH=~/.miniconda3/bin:$PATH
</pre></div>
</div>
<p>Then install and update conda:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>% bash miniconda.sh -b -p $HOME/.miniconda3
% conda update conda
</pre></div>
</div>
<p>The necessary python libraries and openBLAS are installed by:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">conda</span> <span class="n">install</span> <span class="n">numpy</span> <span class="n">scipy</span> <span class="n">h5py</span> <span class="n">pyyaml</span> <span class="n">matplotlib</span> <span class="n">openblas</span>
</pre></div>
</div>
<p>Install the latest phonopy and phono3py:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">export</span> <span class="n">CC</span><span class="o">=</span><span class="n">gcc</span> <span class="c1"># only for macOS</span>
<span class="o">%</span> <span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">atztogo</span><span class="o">/</span><span class="n">phonopy</span><span class="o">.</span><span class="n">git</span>
<span class="o">%</span> <span class="n">cd</span> <span class="n">phonopy</span>
<span class="o">%</span> <span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span> <span class="o">--</span><span class="n">user</span>
<span class="o">%</span> <span class="n">cd</span> <span class="o">..</span>
<span class="o">%</span> <span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">atztogo</span><span class="o">/</span><span class="n">phono3py</span><span class="o">.</span><span class="n">git</span>
<span class="o">%</span> <span class="n">cd</span> <span class="n">phono3py</span>
<span class="o">%</span> <span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span> <span class="o">--</span><span class="n">user</span>
<span class="o">%</span> <span class="n">cd</span> <span class="o">..</span>
</pre></div>
</div>
<p>Environment variables <code class="docutils literal"><span class="pre">PATH</span></code> and <code class="docutils literal"><span class="pre">PYTHONPATH</span></code> must be set
appropriately to use phono3py. See see
<a class="reference external" href="https://atztogo.github.io/phonopy/install.html#building-using-setup-py">https://atztogo.github.io/phonopy/install.html#building-using-setup-py</a>
and
<a class="reference external" href="https://atztogo.github.io/phonopy/install.html#set-correct-environment-variables-path-and-pythonpath">https://atztogo.github.io/phonopy/install.html#set-correct-environment-variables-path-and-pythonpath</a>.</p>
</li>
</ol>
</div>
<div class="section" id="trouble-shooting">
<h2><a class="toc-backref" href="#id13">Trouble shooting</a><a class="headerlink" href="#trouble-shooting" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Phonopy version should be the latest to use the latest phono3py.</li>
<li>There are other pitfalls, see
<a class="reference external" href="https://atztogo.github.io/phonopy/install.html#trouble-shooting">https://atztogo.github.io/phonopy/install.html#trouble-shooting</a>.</li>
</ol>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/install.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2015, Atsushi Togo.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>